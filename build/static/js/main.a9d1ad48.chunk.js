(this["webpackJsonptela-frontend"]=this["webpackJsonptela-frontend"]||[]).push([[0],{135:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n.n(c),s=n(22),o=n.n(s),i=(n(90),n(91),n(18)),l=n.n(i),d=(n(70),n(23)),u=n(83),j=n(17),b=(n(101),n(82)),h=Object(b.a)({name:"userTasks",initialState:{user:null,tasks:[]},reducers:{willLogin:function(e,t){return e},willLogout:function(e,t){return e},willGetUserProfile:function(e,t){return e},willLoadTasks:function(e,t){return e},didGetUserProfile:function(e,t){e.user=t.payload},didLogout:function(e){e.user=null,e.tasks=[],localStorage.removeItem("passcode")},didLoadTasks:function(e,t){e.tasks=t.payload}}}),x=h.actions,f=h.reducer,O=function(e){return e.userTasks.tasks},p=function(e){return e.userTasks.user},m=n(154),g=n(137),v=n(138),w=n(139),y=n(140),k=n(141),C=n(155),N=n(156),_=n(157),T=n(142),I=function(e){var t=e.className,n=e.section,c=e.showMenu,s=void 0!==c&&c,o=Object(m.a)("frontend",{useSuspense:!1}),i=o.t,l=(o.i18n,void 0!=i(n)?i(n):"Forum"),u=r.a.useState(!1),b=Object(d.a)(u,2),h=b[0],f=b[1],O=Object(j.d)(),I=Object(j.e)(p);return console.log("UserProfile:",I),Object(a.jsxs)(g.a,{className:t,color:"primary",light:!0,expand:"md",children:[Object(a.jsxs)(v.a,{className:"text-white font-weight-bold",href:"/",children:["RIALENET - ",l]}),s&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w.a,{onClick:function(){return f(!h)}}),Object(a.jsxs)(y.a,{isOpen:h,navbar:!0,children:[Object(a.jsx)(k.a,{className:"mr-auto",navbar:!0}),Object(a.jsx)(k.a,{navbar:!0,children:null!=I&&Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(C.a,{nav:!0,inNavbar:!0,children:[Object(a.jsxs)(N.a,{className:"text-white",nav:!0,caret:!0,children:[I.name.first," ",I.name.last]}),Object(a.jsx)(_.a,{right:!0,children:Object(a.jsx)(T.a,{onClick:function(){O(x.willLogout(""))},children:"Logout"})})]})})})]})]})]})},S=n(143),L=n(144),U=n(29),F=n(45),A=n(28),P=n(78),z=function e(){Object(P.a)(this,e)};z.admin=1,z.teacher=2,z.student=3;var R=function(e){var t=e.active,n=e.role,c=Object(m.a)("frontend",{useSuspense:!1}),r=c.t;c.i18n;return console.log("Role in sidebar:",n,z.teacher),Object(a.jsx)("div",{style:{border:"0px solid #000",width:"240px",position:"absolute",backgroundColor:"#f1f1f1",bottom:0,top:56},children:Object(a.jsxs)(k.a,{vertical:!0,className:"list-unstyled pb-3",children:[Object(a.jsx)(S.a,{active:"public_area"===t,className:"mb-1",children:Object(a.jsxs)(L.a,{className:"public_area"===t?"text-primary":"text-secondary",style:{textDecoration:"none",fontWeight:"bolder"},tag:A.a,to:"/forum",children:[Object(a.jsx)(U.a,{icon:F.a,className:"mr-2"})," ",r("public_area")]})}),n in[z.student,z.admin]&&Object(a.jsx)(S.a,{active:"student_dashboard"===t,className:"mb-1",children:Object(a.jsxs)(L.a,{className:"student_dashboard"===t?"text-primary":"text-secondary",style:{textDecoration:"none",fontWeight:"bolder"},tag:A.a,to:"/student_dashboard",children:[Object(a.jsx)(U.a,{icon:F.a,className:"mr-2"})," ",r("student_area")]})}),n in[z.teacher,z.admin]&&Object(a.jsx)(S.a,{active:"teacher_dashboard"===t,className:"mb-1",children:Object(a.jsxs)(L.a,{className:"teacher_dashboard"===t?"text-primary":"text-secondary",style:{textDecoration:"none",fontWeight:"bolder"},tag:A.a,to:"/teacher_dashboard",children:[Object(a.jsx)(U.a,{icon:F.a,className:"mr-2"})," ",r("teacher_area")]})})]})})},D=function(e){var t=e.children,n=e.className,c=e.fluid,r=void 0!==c&&c;return Object(a.jsx)("div",{className:n,style:{border:"0px solid #000",position:"absolute",backgroundColor:"white",bottom:0,top:56,left:r?0:240,right:0},children:t})},E=n(145),G=n(146),B=n(147),M=n(148),q=n(131),H=function(e){var t=Object(c.useState)([]),n=Object(d.a)(t,2),r=n[0],s=n[1],o=Object(j.d)(),i=Object(j.e)(O),l=Object(j.e)(p),b=Object(m.a)("frontend",{useSuspense:!1}),h=b.t,f=(b.i18n,0),g=new URLSearchParams(window.location.search),v=localStorage.getItem("passcode"),w=g.get("passcode");console.log("params:",v);null!=w&&q(v);r.map((function(e){f+=1,e.replies&&e.replies.map((function(e){return f+=1}))}));return Object(c.useEffect)((function(){o(x.willGetUserProfile()),o(x.willLoadTasks())}),[]),Object(c.useEffect)((function(){s(null!=i?i.map((function(e){return{userId:"01a",comId:"012",fullName:"Riya Negi",avatarUrl:"https://ui-avatars.com/api/name=Riya&background=random",text:e.goal.name,replies:[]}})):[])}),[i]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(I,{className:"mb-0 text-white",section:"public_area",showMenu:!0}),Object(a.jsx)(R,{active:"public_area",role:null!=l?l.role_id:null}),Object(a.jsx)(D,{children:Object(a.jsxs)(E.a,{className:"mb-4",style:{padding:"10px",borderColor:"#007bff"},children:[Object(a.jsx)(G.a,{style:{backgroundColor:"#007bff",borderColor:"#007bff",paddingBottom:0,color:"white"},children:Object(a.jsxs)(B.a,{children:[h("public_area")," (n.",f," ",h("comments"),")"]})}),Object(a.jsx)(M.a,{children:Object(a.jsx)(u.a,{currentUser:{userId:"01a",avatarUrl:"https://ui-avatars.com/api/name=Riya&background=random",name:"xyz"},commentsArray:r||[],setComment:s,signinUrl:"/signin",signupUrl:"/signup"})})]})})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,158)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},J=(n(134),n(15)),Q=n(79),V=n(84),K=n(19),X=n(69),Y=n(20),Z=n(16),$=l.a.mark(ae),ee=l.a.mark(ce),te=l.a.mark(re),ne=l.a.mark(se);function ae(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.d)(x.willGetUserProfile.type,re);case 2:return e.next=4,Object(Y.d)(x.willLogout.type,ce);case 4:return e.next=6,Object(Y.d)(x.willLoadTasks.type,se);case 6:case"end":return e.stop()}}),$)}function ce(e){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.c)(x.didLogout());case 2:return e.next=4,Object(Y.c)(Object(Z.d)("/logout"));case 4:case"end":return e.stop()}}),ee)}function re(e){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/userprofile",e.prev=1,e.next=4,Object(Y.b)((function(){return fetch("/userprofile").then((function(e){return e.json()})).then((function(e){return e}))}));case 4:return t=e.sent,n=null==t?[]:t,e.next=8,Object(Y.c)(x.didGetUserProfile(n));case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Object(Y.c)(x.didGetUserProfile(null));case 14:case"end":return e.stop()}}),te,null,[[1,10]])}function se(e){var t,n,a,c;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.payload,t=localStorage.getItem("passcode"),n="/tasks?passcode=".concat(t),r.prev=3,r.next=6,Object(Y.b)((function(){return fetch(n).then((function(e){return e.json()})).then((function(e){return e}))}));case 6:return a=r.sent,c=null==a?[]:a.tasks,r.next=10,Object(Y.c)(x.didLoadTasks(c));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(3),r.next=16,Object(Y.c)(x.didLoadTasks([]));case 16:case"end":return r.stop()}}),ne,null,[[3,12]])}var oe=l.a.mark(ie);function ie(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in root saga"),e.next=3,Object(Y.a)([ae()]);case 3:case"end":return e.stop()}}),oe)}var le=ie,de=n(31),ue=Object(K.a)(),je=function(e){var t,n=Object(V.a)(),a=[Object(X.a)(ue),n],c=[J.applyMiddleware.apply(void 0,a)],r=Q.composeWithDevTools.apply(void 0,c),s=(t=ue,Object(J.combineReducers)({router:Object(de.b)(t),userTasks:f})),o=Object(J.createStore)(s,e,r);return n.run(le),o},be=n(12),he=n(149),xe=n(150),fe=n(151),Oe=n(152),pe=n(153),me=n(75),ge=n(57),ve=function(e){var t,n=Object(c.useState)(e.transaction.selectedChoiceIndex),r=Object(d.a)(n,2),s=r[0],o=r[1],i=Object(c.useState)(""),l=Object(d.a)(i,2),u=l[0],j=l[1],b=function(t,n,c){return Object(a.jsxs)(he.a,{check:!0,disabled:e.transaction.readonly,children:[Object(a.jsx)(xe.a,{disabled:e.transaction.readonly,name:t,value:c,onChange:function(e){return function(e){console.log("selected choice:",e.target.value),o(e.target.value)}(e)},checked:s==c,type:"radio"})," ",Object(a.jsx)(fe.a,{check:!0,children:n})]})};return Object(a.jsxs)(Oe.a,{style:{border:"1px solid #007bff",padding:"10px",margin:"10px"},children:[Object(a.jsx)(fe.a,{children:Object(a.jsx)("b",{children:"Seleziona la risposta:"})}),(t=e.transaction,t&&t.answers.map((function(e,t){return b("studentChoice",e,t)}))),Object(a.jsx)(he.a,{children:Object(a.jsxs)("div",{style:{marginTop:"20px"},children:[Object(a.jsx)(fe.a,{for:"studentAnswerText",children:Object(a.jsx)("b",{children:"Inserisci un tuo commento"})}),Object(a.jsx)(xe.a,{disabled:e.transaction.readonly,id:"studentAnswerText",name:"text",type:"textarea",onChange:function(e){return function(e){console.log("current text:",e.target.value),j(e.target.value)}(e)},value:u})]})}),Object(a.jsx)(he.a,{children:Object(a.jsxs)("div",{style:{marginTop:"20px"},children:[Object(a.jsx)(fe.a,{for:"teacherAnswerText",children:Object(a.jsx)("b",{children:"Feedback del docente"})}),Object(a.jsx)(xe.a,{disabled:e.transaction.readonly,id:"teacherAnswerText",name:"text",type:"textarea",value:"RISPOSTA"})]})})]})},we=function(e){var t=Object(c.useState)(!1),n=Object(d.a)(t,2),r=n[0],s=n[1],o=function(){return s(!r)};return function(){var t=e.task.goal.name;return Object(a.jsxs)(E.a,{className:"mb-4",style:{padding:"10px",borderColor:"#007bff"},children:[Object(a.jsx)(G.a,{onClick:function(){o()},style:{cursor:"pointer",backgroundColor:"#007bff",borderColor:"#007bff",paddingBottom:0,color:"white"},children:Object(a.jsx)(B.a,{children:Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignContent:"space-between"},children:[t,r?Object(a.jsx)(ge.b,{size:"1.6em",cursor:"pointer",color:"white",onClick:function(){o()}}):Object(a.jsx)(ge.a,{size:"1.6em",cursor:"pointer",color:"white",onClick:function(){o()}})]})})}),Object(a.jsxs)(y.a,{isOpen:r,children:[Object(a.jsx)(M.a,{children:Object(a.jsx)(Oe.a,{children:e.task.transactions&&e.task.transactions.map((function(e){return Object(a.jsx)(ve,{transaction:e})}))})}),Object(a.jsx)(pe.a,{children:Object(a.jsx)(me.a,{color:"primary",onClick:function(e){},children:"Invia"})})]})]})}()},ye={id:2131,goal:{name:"Quesito iniziale sulla timeline",description:"Descrizione del questito iniziale della timeline",keywords:["social interaction","lab"]},transactions:[{taskId:2131,answers:["Non lo so","Ho capito","Ho bisogno di aiuto"],selectedChoiceIndex:1,studentAnswer:{choice:1,comments:"non ci capisco niente"},teacherFeedback:{comments:"bravo! ma cerca qui..."},readonly:!0},{taskId:2131,answers:["Non lo so","Ho capito","Ho bisogno di aiuto"],selectedChoiceIndex:0,studentAnswer:{choice:1,comments:"non ci capisco niente"},teacherFeedback:{comments:"bravo! ma cerca qui..."},readonly:!1}]},ke=function(e){var t=Object(j.e)(p);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(I,{className:"mb-0 text-white",section:"student_area",showMenu:!0}),Object(a.jsx)(R,{active:"student_dashboard",role:null!=t?t.role_id:null}),Object(a.jsx)(D,{children:Object(a.jsx)(we,{task:ye})})]})},Ce=function(e){var t=Object(j.e)(p);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(I,{className:"mb-0 text-white",section:"teacher_area",showMenu:!0}),Object(a.jsx)(R,{active:"teacher_dashboard",role:null!=t?t.role_id:null}),Object(a.jsx)(D,{children:Object(a.jsx)("p",{children:"To be implemented"})})]})},Ne=function(){var e=Object(m.a)("frontend",{useSuspense:!1}),t=e.t,n=(e.i18n,Object(c.useState)(null)),r=Object(d.a)(n,2),s=r[0],o=r[1];Object(c.useEffect)((function(){localStorage.setItem("passcode",s)}),[s]);var i=function(e){console.log("entered:",e.target.value),function(e){var t="abcdefghijklmnopqrstuvwxyz".toUpperCase();try{var n=e.trim().toUpperCase();if(8!=n.length)throw"Invalid";for(var a=0,c=0;c<n.length-1;c++)a+=t.indexOf(n.charAt(c));var r=(a-=t.indexOf(n.charAt(7)))%t.length==0;o(r?n:null)}catch(s){o(null)}}(e.target.value)};return Object(a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:Object(a.jsxs)(E.a,{className:"mb-4",style:{borderColor:"#007bff"},children:[Object(a.jsx)(G.a,{style:{backgroundColor:"#007bff",borderColor:"#007bff",paddingBottom:0,color:"white"},children:Object(a.jsx)(B.a,{style:{textAlign:"center"},children:t("platform_title")})}),Object(a.jsx)(M.a,{children:Object(a.jsx)(xe.a,{onChange:function(e){return i(e)},type:"text",name:"passcode",id:"passcode",placeholder:t("passcode_enter")})}),Object(a.jsx)(pe.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:s&&Object(a.jsx)("a",{href:"/connect?passcode=".concat(s),children:t("connect_to_wenet")})})]})})},_e=function(){return Object(a.jsx)(de.a,{history:ue,children:Object(a.jsxs)(be.c,{children:[Object(a.jsx)(be.a,{path:"/forum",children:Object(a.jsx)(H,{})}),Object(a.jsx)(be.a,{path:"/student_dashboard",children:Object(a.jsx)(ke,{})}),Object(a.jsx)(be.a,{path:"/teacher_dashboard",children:Object(a.jsx)(Ce,{})}),Object(a.jsx)(be.a,{path:"/",children:Object(a.jsx)(Ne,{})})]})})};function Te(){return Object(a.jsx)(j.a,{store:je({}),children:Object(a.jsx)(_e,{})})}var Ie=n(56),Se=n(36),Le=n(80);n(136);Ie.a.use(Le.a).use(Se.e).init({ns:["tl","frontend"],defaultNS:"tl",fallbackLng:"it",debug:!0,interpolation:{escapeValue:!1}});var Ue=Ie.a;"it-IT"!==(window.navigator.userLanguage||window.navigator.language)?Ue.changeLanguage("en-US"):Ue.changeLanguage("it-IT"),o.a.render(Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)(Te,{})}),document.getElementById("root")),W()},90:function(e,t,n){}},[[135,1,2]]]);
//# sourceMappingURL=main.a9d1ad48.chunk.js.map
(this["webpackJsonptela-frontend"]=this["webpackJsonptela-frontend"]||[]).push([[0],{47:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(0),s=n.n(r),o=n(15),c=n.n(o),i=(n(47),n(48),n(16)),l=n.n(i),u=n(34),d=n(25),p=n(37),j=(n(56),n(63)),b=n(64),f=n(65),h=n(66),g=function(e){var t=Object(r.useState)([]),n=Object(d.a)(t,2),s=n[0],o=n[1],c=0,i=new URLSearchParams(window.location.search).get("passcode");console.log("params:",i),s.map((function(e){c+=1,e.replies&&e.replies.map((function(e){return c+=1}))}));var g=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("WENET loading tasks"),e.prev=1,t="/tasks?passcode=".concat(i),e.next=5,fetch(t,{headers:{"Content-Type":"application/json"},method:"GET"});case 5:return n=e.sent,console.log("WENET authentication response:",n),e.next=9,n.json();case 9:a=e.sent,console.log("WENET authentication result:",a),r=null==a?[]:a.tasks,o(r.map((function(e){return{userId:"01a",comId:"012",fullName:"Riya Negi",avatarUrl:"https://ui-avatars.com/api/name=Riya&background=random",text:e.goal.name,replies:[]}}))),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("WENET response error:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){g()}),[]),Object(a.jsxs)(j.a,{className:"mb-4",style:{padding:"10px",borderColor:"#007bff"},children:[Object(a.jsx)(b.a,{style:{backgroundColor:"#007bff",borderColor:"#007bff",paddingBottom:0,color:"white"},children:Object(a.jsxs)(f.a,{children:["RIALENET - Forum degli studenti (n.",c," Commenti)",i&&Object(a.jsx)("div",{className:"pull-right",children:i})]})}),Object(a.jsx)(h.a,{children:Object(a.jsx)(p.a,{currentUser:{userId:"01a",avatarUrl:"https://ui-avatars.com/api/name=Riya&background=random",name:"xyz"},commentsArray:s||[],setComment:o,signinUrl:"/signin",signupUrl:"/signup"})})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,69)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),s(e),o(e)}))},x=(n(58),n(20)),O=n(9),v=n(36),y=n(39),C=n(14),w=n(33),S=n(40),k=l.a.mark(E);function E(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in root saga"),e.next=3,Object(S.a)([]);case 3:case"end":return e.stop()}}),k)}var N=E,T=n(38),I=Object(T.a)({name:"passCodeUsers",initialState:{passCode:null,currentAnalyticsSessions:null},reducers:{willLogoutWithPassCode:function(e,t){return e},willLoadAnalyticsSessions:function(e,t){return e},setCurrentAnalyticsSessions:function(e,t){e.currentAnalyticsSessions=t.payload},didLoginWithPassCode:function(e,t){e.passCode=t.payload},didLogoutWithPassCode:function(e){e.passCode=null,localStorage.removeItem("RialeSessionTrace")},willSaveSession:function(e,t){return e}}}),U=(I.actions,I.reducer),W=n(18),A=Object(C.a)(),L=function(e){var t,n=Object(y.a)(),a=[Object(w.a)(A),n],r=[O.applyMiddleware.apply(void 0,a)],s=v.composeWithDevTools.apply(void 0,r),o=(t=A,Object(O.combineReducers)({router:Object(W.b)(t),passCodeUsers:U})),c=Object(O.createStore)(o,e,s);return n.run(N),c},R=n(24),P=n(68),F=n(67),B=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],s=t[1],o=function(e){console.log("entered:",e.target.value),function(e){var t="abcdefghijklmnopqrstuvwxyz".toUpperCase();try{var n=e.trim().toUpperCase();if(8!=n.length)throw"Invalid";for(var a=0,r=0;r<n.length-1;r++)a+=t.indexOf(n.charAt(r));var o=(a-=t.indexOf(n.charAt(7)))%t.length==0;s(o?n:null)}catch(c){s(null)}}(e.target.value)};return Object(a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:Object(a.jsxs)(j.a,{className:"mb-4",style:{borderColor:"#007bff"},children:[Object(a.jsx)(b.a,{style:{backgroundColor:"#007bff",borderColor:"#007bff",paddingBottom:0,color:"white"},children:Object(a.jsx)(f.a,{style:{textAlign:"center"},children:"Riale Wenet Platform"})}),Object(a.jsx)(h.a,{children:Object(a.jsx)(P.a,{onChange:function(e){return o(e)},type:"text",name:"passcode",id:"passcode",placeholder:"enter a passcode"})}),Object(a.jsx)(F.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:n&&Object(a.jsx)("a",{href:"/connect?passcode=".concat(n),children:"Connect to WeNet"})})]})})},z=function(){return Object(a.jsx)(W.a,{history:A,children:Object(a.jsxs)(R.c,{children:[Object(a.jsx)(R.a,{path:"/forum",children:Object(a.jsx)(g,{})}),Object(a.jsx)(R.a,{path:"/",children:Object(a.jsx)(B,{})})]})})};function D(){return Object(a.jsx)(x.a,{store:L({}),children:Object(a.jsx)(z,{})})}c.a.render(Object(a.jsx)(s.a.Fragment,{children:Object(a.jsx)(D,{})}),document.getElementById("root")),m()}},[[62,1,2]]]);
//# sourceMappingURL=main.7c2130ec.chunk.js.map
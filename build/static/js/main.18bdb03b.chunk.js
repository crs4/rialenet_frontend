(this["webpackJsonptela-frontend"]=this["webpackJsonptela-frontend"]||[]).push([[0],{133:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(0),c=a.n(r),s=a(22),o=a.n(s),i=(a(88),a(89),a(17)),l=a.n(i),u=(a(69),a(33)),d=a(81),b=a(21),j=(a(99),a(80)),f=Object(j.a)({name:"userTasks",initialState:{user:null,tasks:[]},reducers:{willLogin:function(e,t){return e},willLogout:function(e,t){return e},willGetUserProfile:function(e,t){return e},willLoadTasks:function(e,t){return e},didGetUserProfile:function(e,t){e.user=t.payload},didLogout:function(e){e.user=null,e.tasks=[],localStorage.removeItem("passcode")},didLoadTasks:function(e,t){e.tasks=t.payload}}}),p=f.actions,h=f.reducer,x=function(e){return e.userTasks.tasks},O=function(e){return e.userTasks.user},m=a(150),g=a(135),v=a(136),w=a(137),y=a(138),k=a(139),N=a(151),L=a(149),C=a(152),_=a(140),S=function(e){var t=e.className,a=e.section,r=e.showMenu,s=void 0!==r&&r,o=Object(m.a)("frontend",{useSuspense:!1}),i=o.t,l=(o.i18n,void 0!=i(a)?i(a):"Forum"),d=c.a.useState(!1),j=Object(u.a)(d,2),f=j[0],h=j[1],x=Object(b.d)(),S=Object(b.e)(O);return console.log("UserProfile:",S),Object(n.jsxs)(g.a,{className:t,color:"primary",light:!0,expand:"md",children:[Object(n.jsxs)(v.a,{className:"text-white font-weight-bold",href:"/",children:["RIALENET - ",l]}),s&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(w.a,{onClick:function(){return h(!f)}}),Object(n.jsxs)(y.a,{isOpen:f,navbar:!0,children:[Object(n.jsx)(k.a,{className:"mr-auto",navbar:!0}),Object(n.jsx)(k.a,{navbar:!0,children:null!=S&&Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(N.a,{nav:!0,inNavbar:!0,children:[Object(n.jsxs)(L.a,{className:"text-white",nav:!0,caret:!0,children:[S.name.first," ",S.name.last]}),Object(n.jsx)(C.a,{right:!0,children:Object(n.jsx)(_.a,{onClick:function(){x(p.willLogout(""))},children:"Logout"})})]})})})]})]})]})},T=a(141),U=a(142),I=a(28),P=a(44),F=a(27),E=a(76),G=function e(){Object(E.a)(this,e)};G.admin=1,G.teacher=2,G.student=3;var R=function(e){var t=e.active,a=e.role,r=Object(m.a)("frontend",{useSuspense:!1}),c=r.t;r.i18n;return Object(n.jsx)("div",{style:{border:"0px solid #000",width:"240px",position:"absolute",backgroundColor:"#f1f1f1",bottom:0,top:56},children:Object(n.jsxs)(k.a,{vertical:!0,className:"list-unstyled pb-3",children:[Object(n.jsx)(T.a,{active:"public_area"===t,className:"mb-1",children:Object(n.jsxs)(U.a,{className:"public_area"===t?"text-primary":"text-secondary",style:{textDecoration:"none",fontWeight:"bolder"},tag:F.a,to:"/public_area",children:[Object(n.jsx)(I.a,{icon:P.a,className:"mr-2"})," ",c("public_area")]})}),a==G.student&&Object(n.jsx)(T.a,{active:"public_area"===t,className:"mb-1",children:Object(n.jsxs)(U.a,{className:"public_area"===t?"text-primary":"text-secondary",style:{textDecoration:"none",fontWeight:"bolder"},tag:F.a,to:"/public_area",children:[Object(n.jsx)(I.a,{icon:P.a,className:"mr-2"})," ",c("student_area")]})}),a==G.teacher&&Object(n.jsx)(T.a,{active:"public_area"===t,className:"mb-1",children:Object(n.jsxs)(U.a,{className:"public_area"===t?"text-primary":"text-secondary",style:{textDecoration:"none",fontWeight:"bolder"},tag:F.a,to:"/public_area",children:[Object(n.jsx)(I.a,{icon:P.a,className:"mr-2"})," ",c("teacher_area")]})})]})})},A=function(e){var t=e.children,a=e.className,r=e.fluid,c=void 0!==r&&r;return Object(n.jsx)("div",{className:a,style:{border:"0px solid #000",position:"absolute",backgroundColor:"white",bottom:0,top:56,left:c?0:240,right:0},children:t})},D=a(143),B=a(144),W=a(145),M=a(146),z=a(129),J=function(e){var t=Object(r.useState)([]),a=Object(u.a)(t,2),c=a[0],s=a[1],o=Object(b.d)(),i=Object(b.e)(x),l=(Object(b.e)(O),Object(m.a)("frontend",{useSuspense:!1})),j=l.t,f=(l.i18n,0),h=new URLSearchParams(window.location.search),g=localStorage.getItem("passcode"),v=h.get("passcode");console.log("params:",g);null!=v&&z(g);c.map((function(e){f+=1,e.replies&&e.replies.map((function(e){return f+=1}))}));return Object(r.useEffect)((function(){o(p.willGetUserProfile()),o(p.willLoadTasks())}),[]),Object(r.useEffect)((function(){s(null!=i?i.map((function(e){return{userId:"01a",comId:"012",fullName:"Riya Negi",avatarUrl:"https://ui-avatars.com/api/name=Riya&background=random",text:e.goal.name,replies:[]}})):[])}),[i]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S,{className:"mb-0 text-white",section:"public_area",showMenu:!0}),Object(n.jsx)(R,{active:"public_area"}),Object(n.jsx)(A,{children:Object(n.jsxs)(D.a,{className:"mb-4",style:{padding:"10px",borderColor:"#007bff"},children:[Object(n.jsx)(B.a,{style:{backgroundColor:"#007bff",borderColor:"#007bff",paddingBottom:0,color:"white"},children:Object(n.jsxs)(W.a,{children:[j("public_area")," (n.",f," ",j("comments"),")"]})}),Object(n.jsx)(M.a,{children:Object(n.jsx)(d.a,{currentUser:{userId:"01a",avatarUrl:"https://ui-avatars.com/api/name=Riya&background=random",name:"xyz"},commentsArray:c||[],setComment:s,signinUrl:"/signin",signupUrl:"/signup"})})]})})]})},q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,153)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))},V=(a(132),a(15)),H=a(77),K=a(82),Q=a(18),X=a(68),Y=a(19),Z=a(16),$=l.a.mark(ne),ee=l.a.mark(re),te=l.a.mark(ce),ae=l.a.mark(se);function ne(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.d)(p.willGetUserProfile.type,ce);case 2:return e.next=4,Object(Y.d)(p.willLogout.type,re);case 4:return e.next=6,Object(Y.d)(p.willLoadTasks.type,se);case 6:case"end":return e.stop()}}),$)}function re(e){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.c)(p.didLogout());case 2:return e.next=4,Object(Y.c)(Object(Z.d)("/logout"));case 4:case"end":return e.stop()}}),ee)}function ce(e){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/userprofile",e.prev=1,e.next=4,Object(Y.b)((function(){return fetch("/userprofile").then((function(e){return e.json()})).then((function(e){return e}))}));case 4:return t=e.sent,a=null==t?[]:t,e.next=8,Object(Y.c)(p.didGetUserProfile(a));case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Object(Y.c)(p.didGetUserProfile(null));case 14:case"end":return e.stop()}}),te,null,[[1,10]])}function se(e){var t,a,n,r;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e.payload,t=localStorage.getItem("passcode"),a="/tasks?passcode=".concat(t),c.prev=3,c.next=6,Object(Y.b)((function(){return fetch(a).then((function(e){return e.json()})).then((function(e){return e}))}));case 6:return n=c.sent,r=null==n?[]:n.tasks,c.next=10,Object(Y.c)(p.didLoadTasks(r));case 10:c.next=16;break;case 12:return c.prev=12,c.t0=c.catch(3),c.next=16,Object(Y.c)(p.didLoadTasks([]));case 16:case"end":return c.stop()}}),ae,null,[[3,12]])}var oe=l.a.mark(ie);function ie(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in root saga"),e.next=3,Object(Y.a)([ne()]);case 3:case"end":return e.stop()}}),oe)}var le=ie,ue=a(30),de=Object(Q.a)(),be=function(e){var t,a=Object(K.a)(),n=[Object(X.a)(de),a],r=[V.applyMiddleware.apply(void 0,n)],c=H.composeWithDevTools.apply(void 0,r),s=(t=de,Object(V.combineReducers)({router:Object(ue.b)(t),userTasks:h})),o=Object(V.createStore)(s,e,c);return a.run(le),o},je=a(11),fe=a(147),pe=a(148),he=function(){var e=Object(m.a)("frontend",{useSuspense:!1}),t=e.t,a=(e.i18n,Object(r.useState)(null)),c=Object(u.a)(a,2),s=c[0],o=c[1];Object(r.useEffect)((function(){localStorage.setItem("passcode",s)}),[s]);var i=function(e){console.log("entered:",e.target.value),function(e){var t="abcdefghijklmnopqrstuvwxyz".toUpperCase();try{var a=e.trim().toUpperCase();if(8!=a.length)throw"Invalid";for(var n=0,r=0;r<a.length-1;r++)n+=t.indexOf(a.charAt(r));var c=(n-=t.indexOf(a.charAt(7)))%t.length==0;o(c?a:null)}catch(s){o(null)}}(e.target.value)};return Object(n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:Object(n.jsxs)(D.a,{className:"mb-4",style:{borderColor:"#007bff"},children:[Object(n.jsx)(B.a,{style:{backgroundColor:"#007bff",borderColor:"#007bff",paddingBottom:0,color:"white"},children:Object(n.jsx)(W.a,{style:{textAlign:"center"},children:t("platform_title")})}),Object(n.jsx)(M.a,{children:Object(n.jsx)(fe.a,{onChange:function(e){return i(e)},type:"text",name:"passcode",id:"passcode",placeholder:t("passcode_enter")})}),Object(n.jsx)(pe.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:s&&Object(n.jsx)("a",{href:"/connect?passcode=".concat(s),children:t("connect_to_wenet")})})]})})},xe=function(){return Object(n.jsx)(ue.a,{history:de,children:Object(n.jsxs)(je.c,{children:[Object(n.jsx)(je.a,{path:"/forum",children:Object(n.jsx)(J,{})}),Object(n.jsx)(je.a,{path:"/",children:Object(n.jsx)(he,{})})]})})};function Oe(){return Object(n.jsx)(b.a,{store:be({}),children:Object(n.jsx)(xe,{})})}var me=a(56),ge=a(36),ve=a(78);a(134);me.a.use(ve.a).use(ge.e).init({ns:["tl","frontend"],defaultNS:"tl",fallbackLng:"it",debug:!0,interpolation:{escapeValue:!1}});var we=me.a;"it-IT"!==(window.navigator.userLanguage||window.navigator.language)?we.changeLanguage("en-US"):we.changeLanguage("it-IT"),o.a.render(Object(n.jsx)(c.a.Fragment,{children:Object(n.jsx)(Oe,{})}),document.getElementById("root")),q()},88:function(e,t,a){}},[[133,1,2]]]);
//# sourceMappingURL=main.18bdb03b.chunk.js.map
(this["webpackJsonptela-frontend"]=this["webpackJsonptela-frontend"]||[]).push([[0],{116:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n(0),c=n.n(a),s=n(21),o=n.n(s),i=(n(76),n(77),n(17)),l=n.n(i),u=(n(62),n(30)),d=n(69),j=n(22),b=(n(87),n(68)),f=Object(b.a)({name:"userTasks",initialState:{user:null,tasks:[]},reducers:{willLogin:function(e,t){return e},willLogout:function(e,t){return e},willGetUserProfile:function(e,t){return e},willLoadTasks:function(e,t){return e},didGetUserProfile:function(e,t){e.user=t.payload},didLogout:function(e){e.user=null,localStorage.removeItem("passcode")},didLoadTasks:function(e,t){e.tasks=t.payload}}}),h=f.actions,p=f.reducer,x=function(e){return e.tasks},O=n(117),m=n(118),g=n(119),v=n(120),w=n(121),y=n(132),k=n(131),C=n(133),N=n(122),L=function(e){var t=e.className,n=e.section,a=e.showMenu,s=void 0!==a&&a,o=void 0!=n?n:"Forum",i=c.a.useState(!1),l=Object(u.a)(i,2),d=l[0],b=l[1],f=Object(j.d)(),p="Rana",x="Volante";return Object(r.jsxs)(O.a,{className:t,color:"primary",light:!0,expand:"md",children:[Object(r.jsxs)(m.a,{className:"text-white font-weight-bold",href:"/",children:["RIALE - ",o]}),s&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(g.a,{onClick:function(){return b(!d)}}),Object(r.jsxs)(v.a,{isOpen:d,navbar:!0,children:[Object(r.jsx)(w.a,{className:"mr-auto",navbar:!0}),Object(r.jsx)(w.a,{navbar:!0,children:Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(y.a,{nav:!0,inNavbar:!0,children:[Object(r.jsxs)(k.a,{className:"text-white",nav:!0,caret:!0,children:[p," ",x]}),Object(r.jsx)(C.a,{right:!0,children:Object(r.jsx)(N.a,{onClick:function(){f(h.willLogout(""))},children:"Logout"})})]})})})]})]})]})},I=n(123),U=n(124),F=n(32),T=n(66),S=n(31),P=function(e){var t=e.active;return Object(r.jsx)("div",{style:{border:"0px solid #000",width:"240px",position:"absolute",backgroundColor:"#f1f1f1",bottom:0,top:56},children:Object(r.jsx)(w.a,{vertical:!0,className:"list-unstyled pb-3",children:Object(r.jsx)(I.a,{active:"dashboard"===t,className:"mb-1",children:Object(r.jsxs)(U.a,{className:"dashboard"===t?"text-primary":"text-secondary",style:{textDecoration:"none",fontWeight:"bolder"},tag:S.a,to:"/dashboard",children:[Object(r.jsx)(F.a,{icon:T.a,className:"mr-2"})," Dashboard"]})})})})},R=function(e){var t=e.children,n=e.className,a=e.fluid,c=void 0!==a&&a;return Object(r.jsx)("div",{className:n,style:{border:"0px solid #000",position:"absolute",backgroundColor:"white",bottom:0,top:56,left:c?0:240,right:0},children:t})},E=n(125),A=n(126),D=n(127),G=n(128),B=n(112),W=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),c=n[0],s=n[1],o=Object(j.d)(),i=Object(j.e)(x),l=0,b=new URLSearchParams(window.location.search),f=localStorage.getItem("passcode"),p=b.get("passcode");console.log("params:",f);var O=null!=p&&B(f)==p;c.map((function(e){l+=1,e.replies&&e.replies.map((function(e){return l+=1}))}));return Object(a.useEffect)((function(){o(h.willGetUserProfile()),o(h.willLoadTasks())}),[]),Object(a.useEffect)((function(){s(null!=i?i.map((function(e){return{userId:"01a",comId:"012",fullName:"Riya Negi",avatarUrl:"https://ui-avatars.com/api/name=Riya&background=random",text:e.goal.name,replies:[]}})):[])}),[i]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(L,{className:"mb-0 text-white",section:"Forum",showMenu:!0}),Object(r.jsx)(P,{active:"dashboard"}),Object(r.jsx)(R,{children:Object(r.jsxs)(E.a,{className:"mb-4",style:{padding:"10px",borderColor:"#007bff"},children:[Object(r.jsx)(A.a,{style:{backgroundColor:"#007bff",borderColor:"#007bff",paddingBottom:0,color:"white"},children:Object(r.jsxs)(D.a,{children:["RIALENET - Forum degli studenti (n.",l," Commenti) ",O?"OK":"FORBIDDEN",f&&Object(r.jsx)("div",{className:"pull-right",children:f})]})}),Object(r.jsx)(G.a,{children:Object(r.jsx)(d.a,{currentUser:{userId:"01a",avatarUrl:"https://ui-avatars.com/api/name=Riya&background=random",name:"xyz"},commentsArray:c||[],setComment:s,signinUrl:"/signin",signupUrl:"/signup"})})]})})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,134)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},z=(n(115),n(15)),J=n(67),q=n(70),K=n(18),V=n(61),H=n(19),Q=n(16),X=l.a.mark(_),Y=l.a.mark(ee),Z=l.a.mark(te),$=l.a.mark(ne);function _(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.d)(h.willGetUserProfile.type,te);case 2:return e.next=4,Object(H.d)(h.willLogout.type,ee);case 4:return e.next=6,Object(H.d)(h.willLoadTasks.type,ne);case 6:case"end":return e.stop()}}),X)}function ee(e){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.c)(h.didLogout());case 2:return e.next=4,Object(H.c)(Object(Q.d)("/logout"));case 4:case"end":return e.stop()}}),Y)}function te(e){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/userprofile",e.prev=1,e.next=4,Object(H.b)((function(){return fetch("/userprofile").then((function(e){return e.json()})).then((function(e){return e}))}));case 4:return t=e.sent,n=null==t?[]:t,e.next=8,Object(H.c)(h.didGetUserProfile(n));case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Object(H.c)(h.didGetUserProfile(null));case 14:case"end":return e.stop()}}),Z,null,[[1,10]])}function ne(e){var t,n,r,a;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e.payload,t=localStorage.getItem("passcode"),n="/tasks?passcode=".concat(t),c.prev=3,c.next=6,Object(H.b)((function(){return fetch(n).then((function(e){return e.json()})).then((function(e){return e}))}));case 6:return r=c.sent,a=null==r?[]:r.tasks,c.next=10,Object(H.c)(h.didLoadTasks(a));case 10:c.next=16;break;case 12:return c.prev=12,c.t0=c.catch(3),c.next=16,Object(H.c)(h.didLoadTasks([]));case 16:case"end":return c.stop()}}),$,null,[[3,12]])}var re=l.a.mark(ae);function ae(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in root saga"),e.next=3,Object(H.a)([_()]);case 3:case"end":return e.stop()}}),re)}var ce=ae,se=n(27),oe=Object(K.a)(),ie=function(e){var t,n=Object(q.a)(),r=[Object(V.a)(oe),n],a=[z.applyMiddleware.apply(void 0,r)],c=J.composeWithDevTools.apply(void 0,a),s=(t=oe,Object(z.combineReducers)({router:Object(se.b)(t),userTasks:p})),o=Object(z.createStore)(s,e,c);return n.run(ce),o},le=n(11),ue=n(129),de=n(130),je=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){localStorage.setItem("passcode",n)}),[n]);var s=function(e){console.log("entered:",e.target.value),function(e){var t="abcdefghijklmnopqrstuvwxyz".toUpperCase();try{var n=e.trim().toUpperCase();if(8!=n.length)throw"Invalid";for(var r=0,a=0;a<n.length-1;a++)r+=t.indexOf(n.charAt(a));var s=(r-=t.indexOf(n.charAt(7)))%t.length==0;c(s?n:null)}catch(o){c(null)}}(e.target.value)};return Object(r.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:Object(r.jsxs)(E.a,{className:"mb-4",style:{borderColor:"#007bff"},children:[Object(r.jsx)(A.a,{style:{backgroundColor:"#007bff",borderColor:"#007bff",paddingBottom:0,color:"white"},children:Object(r.jsx)(D.a,{style:{textAlign:"center"},children:"Riale Wenet Platform"})}),Object(r.jsx)(G.a,{children:Object(r.jsx)(ue.a,{onChange:function(e){return s(e)},type:"text",name:"passcode",id:"passcode",placeholder:"enter a passcode"})}),Object(r.jsx)(de.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:n&&Object(r.jsx)("a",{href:"/connect?passcode=".concat(n),children:"Connect to WeNet"})})]})})},be=function(){return Object(r.jsx)(se.a,{history:oe,children:Object(r.jsxs)(le.c,{children:[Object(r.jsx)(le.a,{path:"/forum",children:Object(r.jsx)(W,{})}),Object(r.jsx)(le.a,{path:"/",children:Object(r.jsx)(je,{})})]})})};function fe(){return Object(r.jsx)(j.a,{store:ie({}),children:Object(r.jsx)(be,{})})}o.a.render(Object(r.jsx)(c.a.Fragment,{children:Object(r.jsx)(fe,{})}),document.getElementById("root")),M()},76:function(e,t,n){}},[[116,1,2]]]);
//# sourceMappingURL=main.a14a36cf.chunk.js.map
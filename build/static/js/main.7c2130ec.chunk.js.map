{"version":3,"sources":["pages/DiscussionDashBoard.jsx","reportWebVitals.js","store/sagas/index.ts","store/slices/passCodeUsers.ts","store/index.ts","store/reducers.ts","pages/WenetConnector.jsx","router.tsx","App.tsx","index.js"],"names":["RialeDiscussionBoard","props","useState","comment","setComment","count","passcode","URLSearchParams","window","location","search","get","console","log","map","i","replies","loadAllTasks","a","url","fetch","headers","method","response","json","result","tasks","task","useEffect","Card","className","style","padding","borderColor","CardHeader","backgroundColor","paddingBottom","color","CardTitle","CardBody","currentUser","userId","avatarUrl","name","commentsArray","signinUrl","signupUrl","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","runAllSagas","all","passCodeUsersSlice","createSlice","initialState","passCode","currentAnalyticsSessions","reducers","willLogoutWithPassCode","state","action","willLoadAnalyticsSessions","setCurrentAnalyticsSessions","payload","didLoginWithPassCode","didLogoutWithPassCode","localStorage","removeItem","willSaveSession","reducer","actions","history","createBrowserHistory","configureStore","preloadedState","sagaMiddleware","createSagaMiddleware","middlewares","routerMiddleware","enhancers","applyMiddleware","composedEnhancers","composeWithDevTools","rootReducer","combineReducers","router","connectRouter","passCodeUsers","passCodeUsersReducer","store","createStore","run","WenetConnector","setPasscode","onEnterPassocode","ev","target","value","passCodeOrig","charset","toUpperCase","trim","length","passCodeSum","indexOf","charAt","isValid","passCodeLen","error","checkPassCode","display","alignItems","justifyContent","height","textAlign","Input","onChange","type","id","placeholder","CardFooter","href","AppRouter","path","App","ReactDOM","render","Fragment","document","getElementById"],"mappings":"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","file":"static/js/main.7c2130ec.chunk.js","sourcesContent":["import React, { PureComponent, useState, useEffect } from 'react'\nimport { CommentSection } from 'react-comments-section'\nimport { useLocation, useParams, Link } from 'react-router-dom'\nimport moment from 'moment'\n\nimport {\n  Card, CardImg, CardText, CardBody, CardHeader,\n  CardTitle, CardSubtitle, Button\n} from 'reactstrap';\n\nconst data = [\n  {\n    \"userId\": \"01a\",\n    \"comId\": \"012\",\n    \"fullName\": \"Riya Negi\",\n    \"avatarUrl\": \"https://ui-avatars.com/api/name=Riya&background=random\",\n    \"text\": \"Hey, Loved your blog! \",\n    \"replies\": [\n      {\n        \"userId\": \"02a\",\n        \"comId\": \"013\",\n\n        \"fullName\": \"Adam Scott\",\n        \"avatarUrl\": \"https://ui-avatars.com/api/name=Adam&background=random\",\n        \"text\": \"Thanks! It took me 1 month to finish this project but I am glad it helped out someone!ðŸ¥°\"\n      },\n      {\n        \"userId\": \"01a\",\n        \"comId\": \"014\",\n\n        \"fullName\": \"Riya Negi\",\n        \"avatarUrl\": \"https://ui-avatars.com/api/name=Riya&background=random\",\n        \"text\": \"thanks!ðŸ˜Š\"\n      }\n    ]\n  },\n  {\n    \"userId\": \"02b\",\n    \"comId\": \"017\",\n    \"fullName\": \"Lily\",\n    \"text\": \"I have a doubt about the 4th pointðŸ¤”\",\n    \"avatarUrl\": \"https://ui-avatars.com/api/name=Lily&background=random\"\n  },\n  {\n    \"userId\": \"01c\",\n    \"comId\": \"018\",\n    \"fullName\": \"Derek\",\n    \"text\": \"Great explanation!!!\",\n    \"avatarUrl\": \"https://ui-avatars.com/api/name=Derek&background=random\"\n  }\n]\n\nconst RialeDiscussionBoard = (props) => {\n  const [comment, setComment] = useState([])\n  const userId = \"01a\"\n  const avatarUrl = \"https://ui-avatars.com/api/name=Riya&background=random\"\n  const name = \"xyz\"\n  const signinUrl = \"/signin\"\n  const signupUrl = \"/signup\"\n  let count = 0\n\n  const query = new URLSearchParams(window.location.search);\n  const passcode = query.get(\"passcode\");\n  console.log(\"params:\", passcode);\n\n  comment.map(i => { count += 1; i.replies && i.replies.map(i => count += 1) })\n  \n  const loadAllTasks = async () => {\n    console.log(\"WENET loading tasks\")\n    try {\n      const url = `/tasks?passcode=${passcode}`\n      const response = await fetch(url,\n        {\n          headers: { \"Content-Type\": \"application/json\" },\n          method: \"GET\"\n        }\n      )\n      console.log(\"WENET authentication response:\", response)\n\n      const result = await response.json();\n      console.log(\"WENET authentication result:\", result)\n\n      const tasks = (result==null) ? [] : result[\"tasks\"]\n\n      setComment(tasks.map((task) => {\n        return (\n          {\n            \"userId\": \"01a\",\n            \"comId\": \"012\",\n            \"fullName\": \"Riya Negi\",\n            \"avatarUrl\": \"https://ui-avatars.com/api/name=Riya&background=random\",\n            \"text\": task[\"goal\"][\"name\"],\n            \"replies\": []\n          });\n        /*\n        setPosts(\n          tasks.map((task)=> {return(\n           {\"profileImage\" : 'https://www.rd.com/wp-content/uploads/2017/09/01-shutterstock_476340928-Irina-Bg.jpg',\n           \"name\" : task[\"goal\"][\"name\"],\n           \"content\" : task[\"goal\"][\"description\"],\n           \"date\" : moment(parseInt(task[\"_creationTs\"])).toDate()\n           } )\n          }\n        )) */\n      }));\n\n    } catch (e) { console.log(\"WENET response error:\", e) }\n  }\n\n  useEffect(() => {\n    loadAllTasks()\n  }, [])\n\n\n  return (\n    <Card className=\"mb-4\" style={{ padding:\"10px\", borderColor: \"#007bff\" }}>\n    <CardHeader style={{ backgroundColor: \"#007bff\", borderColor: \"#007bff\", paddingBottom: 0, color: 'white' }}>\n        <CardTitle>RIALENET - Forum degli studenti (n.{count} Commenti)\n        {passcode && <div className=\"pull-right\">{passcode}\n          \n          </div>}\n        </CardTitle>\n      \n        </CardHeader>\n        <CardBody>\n          <CommentSection currentUser={userId && { userId: userId, avatarUrl: avatarUrl, name: name }}\n            commentsArray={comment || []}\n            setComment={setComment} signinUrl={signinUrl} signupUrl={signupUrl} />\n        </CardBody>\n\n      </Card>)\n\n}\n\nexport default RialeDiscussionBoard\n\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { all } from 'redux-saga/effects'\n//import { sagas as passCodeUsersSagas } from './passCodeUsers'\n\nfunction* runAllSagas() {\n    console.log('in root saga')\n    yield all([\n     // passCodeUsersSagas()\n    ])\n  }\n\nexport default runAllSagas;","import { createSlice, PayloadAction} from \"@reduxjs/toolkit\";\n\nexport const passCodeUsersSlice = createSlice({\n    name: 'passCodeUsers',\n    initialState: {\n      passCode:null,\n      currentAnalyticsSessions:null\n    }\n  ,\n    reducers: {\n     // willLoginWithPassCode: (state, action:PayloadAction<any>) => state,\n     willLogoutWithPassCode: (state, action:PayloadAction<any>) => state,\n     willLoadAnalyticsSessions: (state, action:PayloadAction<any>) => state,\n\n     setCurrentAnalyticsSessions: (state, action:PayloadAction<any>) =>{\n       state.currentAnalyticsSessions = action.payload;\n     },\n      didLoginWithPassCode: (state, action:PayloadAction<any>) => { \n        state.passCode = action.payload;\n      },\n      didLogoutWithPassCode: (state) => { \n        state.passCode = null;\n        localStorage.removeItem(\"RialeSessionTrace\");\n      },\n      // esporta la sessione su db\n      willSaveSession: (state, action:PayloadAction<any>) => state,\n    }\n});\n\nexport const { actions, reducer } = passCodeUsersSlice\n\nexport const selectors = {\n  isLoggedWithPassCode: (state:any) => {\n    return state.passCodeUsers.passCode!=null;\n  },\n\n  getCurrentAnalyticsSessions: (state:any) => {\n    return state.passCodeUsers.currentAnalyticsSessions;\n  },\n\n  getCurrentPassCode: (state:any) => {\n    return state.passCodeUsers.passCode;\n  }\n}\n","import { applyMiddleware, createStore } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport createSagaMiddleware from 'redux-saga'\nimport { createBrowserHistory } from 'history'\nimport { routerMiddleware } from 'connected-react-router'\nimport runAllSagas from './sagas'\n\n// import monitorReducersEnhancer from './enhancers/monitorReducers'\n// import loggerMiddleware from './middleware/logger'\nimport { createRootReducer } from './reducers'\nexport const history = createBrowserHistory()\n\nexport const configureStore = (preloadedState: any) => {\n  // const middlewares = [loggerMiddleware, thunkMiddleware]\n\n  const sagaMiddleware = createSagaMiddleware()\n  const middlewares: any = [routerMiddleware(history), sagaMiddleware]\n\n  const middlewareEnhancer = applyMiddleware(...middlewares)\n\n  // const enhancers = [middlewareEnhancer, monitorReducersEnhancer]\n  const enhancers = [middlewareEnhancer]\n  const composedEnhancers = composeWithDevTools(...enhancers)\n  \n  const rootReducer = createRootReducer(history)\n  const store = createStore(rootReducer, preloadedState, composedEnhancers)\n \n  if (process.env.NODE_ENV !== 'production' && (module as any).hot) {\n    (module as any).hot.accept('./reducers', () => store.replaceReducer(rootReducer))\n  }\n \n\n  // then run the saga\n  sagaMiddleware.run(runAllSagas)\n\n  return store\n}","import { combineReducers } from 'redux'\n\nimport { reducer as passCodeUsersReducer } from './slices/passCodeUsers'\nimport { connectRouter } from 'connected-react-router'\n\nexport const createRootReducer = (history: any) => combineReducers({\n  router: connectRouter(history),\n  passCodeUsers: passCodeUsersReducer\n})","import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport {\n    Button, Form, FormGroup, Label, Input, FormText, Card, CardHeader, CardBody,\n    CardText, CardTitle, CardFooter\n} from 'reactstrap';\n\n\n//https://www.npmjs.com/package/compress-json\nconst WenetConnector = () => {\n\n\n    const [passcode, setPasscode] = useState(null);\n    const checkPassCode = (passCodeOrig) => {\n\n        //WQBLLIZQ\n        const charset = \"abcdefghijklmnopqrstuvwxyz\".toUpperCase()\n        const passCodeLen = 8\n        try {\n            const passCode = passCodeOrig.trim().toUpperCase();\n            if (passCode.length != passCodeLen) throw (\"Invalid\");\n            let passCodeSum = 0;\n            for (let i = 0; i < passCode.length - 1; i++) {\n                //console.log(\"Indice carattere:\",charset.indexOf(passCode.charAt(i)))\n                passCodeSum += charset.indexOf(passCode.charAt(i))\n            }\n\n            passCodeSum -= charset.indexOf(passCode.charAt(passCodeLen - 1))\n            //console.log(`PasscodeSum check:${passCodeSum}`)\n            const isValid = (passCodeSum % charset.length) == 0\n            setPasscode( isValid ? passCode : null);\n        } catch (error) {\n            setPasscode(null);\n        }\n\n    }\n\n    const onEnterPassocode = (ev) => {\n        console.log(\"entered:\", ev.target.value)\n        checkPassCode(ev.target.value);\n    }\n\n    return (\n        <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            height: '100vh'\n        }}>\n            <Card className=\"mb-4\" style={{ borderColor: \"#007bff\" }}>\n                <CardHeader style={{\n                    backgroundColor: \"#007bff\",\n                    borderColor: \"#007bff\",\n                    paddingBottom: 0,\n                    color: 'white'\n\n                }}>\n                    <CardTitle style={{ textAlign: \"center\" }}>Riale Wenet Platform</CardTitle>\n                </CardHeader>\n                <CardBody>\n\n\n                    <Input onChange={(ev) => onEnterPassocode(ev)} type=\"text\" name=\"passcode\" \n                    id=\"passcode\" placeholder=\"enter a passcode\" />\n\n                </CardBody>\n                    <CardFooter style={{\n                                        display: 'flex',\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                    }}>\n                    {\n                        passcode && (\n                            <a href={`/connect?passcode=${passcode}`}>Connect to WeNet</a>\n                        )\n                    }\n                        \n                    </CardFooter>\n\n            </Card>\n\n\n        </div>\n    );\n}\n\nexport default WenetConnector","import React from \"react\";\nimport { ConnectedRouter } from 'connected-react-router'\n\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    Redirect,\n    useHistory\n  } from \"react-router-dom\";\n  import { useSelector } from \"react-redux\";\n  import { history } from './store'\n  \n  import RialeDiscussionBoard from './pages/DiscussionDashBoard'\n  import WenetConnector from \"./pages/WenetConnector\";\nexport const AppRouter = () => { \n  return (<ConnectedRouter history={history}>\n  <Switch>\n  <Route path=\"/forum\">\n          <RialeDiscussionBoard />\n    </Route>\n\n    <Route path=\"/\">\n          <WenetConnector />\n    </Route>\n  </Switch>\n\n</ConnectedRouter>)\n}","import React from \"react\";\nimport { Provider } from 'react-redux'\nimport { configureStore } from './store'\nimport { AppRouter } from './router';\n\nconst Test = () => { return(<></>)}\nexport default function App() {\n  return (\n    <Provider store={configureStore({})}>\n       <AppRouter/>\n    \n    </Provider >\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport RialeDiscussionBoard from './pages/DiscussionDashBoard';\nimport reportWebVitals from './reportWebVitals';\nimport 'react-comments-section/dist/index.css'\nimport App from './App';\n\n   \nReactDOM.render(\n  <React.Fragment>\n    <App />\n  </React.Fragment>,\n  document.getElementById('root')\n);\n\n/*\n//https://create-react-app.dev/docs/deployment/\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n*/\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
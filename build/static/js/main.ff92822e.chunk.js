(this["webpackJsonptela-frontend"]=this["webpackJsonptela-frontend"]||[]).push([[0],{123:function(e,t,n){},203:function(e,t,n){"use strict";n.r(t);var a=n(3),s=n(1),r=n.n(s),c=n(19),o=n.n(c),i=(n(123),n(124),n(125),n(16)),l=n.n(i),d=n(46),u=n(14),b=(n(112),n(12)),j=n(36),f=n.n(j),p=n(111),h=n(57),x=Object(p.a)({name:"userTasks",initialState:{user:null,tasks:[],filteredIds:null,studentsProfile:[],isSendingMessage:!1},reducers:{willLogin:function(e,t){return e},willLogout:function(e,t){return e},willGetUserProfile:function(e,t){return e},willLoadTasks:function(e,t){return e},willCreateTask:function(e,t){return e},willCreateTransaction:function(e,t){return e},willLoadStudentsProfile:function(e,t){return e},setFilteredIds:function(e,t){e.filteredIds=Object(h.map)(t.payload,"id")},clearFilter:function(e,t){console.log("in clear filter"),e.filteredIds=null},didGetUserProfile:function(e,t){e.user=t.payload},setIsSendingMessage:function(e,t){e.isSendingMessage=t.payload},didLogout:function(e){e.user=null,e.tasks=[],e.isSendingMessage=!1,localStorage.removeItem("passcode")},didLoadTasks:function(e,t){e.tasks=t.payload},didLoadStudentsProfile:function(e,t){e.studentsProfile=t.payload}}}),O=x.actions,g=x.reducer,m=function(e){return e.userTasks.filteredIds},T=function(e){return e.userTasks.tasks},k=function(e){return e.userTasks.user},v=function(e){return e.userTasks.studentsProfile},y=function(e){return e.userTasks.isSendingMessage},w=function(e){return function(t){for(var n=t.userTasks.studentsProfile,a=0;a<n.length;a++)if(n[a].wenet_id==e)return n[a];return null}},I=n(244),_=n(217),C=n(218),S=n(219),A=n(220),E=n(221),U=n(245),N=n(246),F=n(247),L=n(222),P=function(e){var t=e.className,n=e.section,s=e.showMenu,c=void 0!==s&&s,o=Object(I.a)("frontend",{useSuspense:!1}),i=o.t,l=(o.i18n,void 0!=i(n)?i(n):"Forum"),d=r.a.useState(!1),j=Object(u.a)(d,2),f=j[0],p=j[1],h=Object(b.d)(),x=Object(b.e)(k);return console.log("UserProfile:",x),Object(a.jsxs)(_.a,{style:{marginBottom:"10px"},className:t,color:"primary",light:!0,expand:"md",children:[Object(a.jsxs)(C.a,{className:"text-white font-weight-bold",children:["RIALENET - ",l]}),c&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(S.a,{onClick:function(){return p(!f)}}),Object(a.jsxs)(A.a,{isOpen:f,navbar:!0,children:[Object(a.jsx)(E.a,{className:"mr-auto",navbar:!0}),Object(a.jsx)(E.a,{navbar:!0,children:null!=x&&null!=x.name&&Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(U.a,{nav:!0,inNavbar:!0,children:[Object(a.jsxs)(N.a,{className:"text-white",nav:!0,caret:!0,children:[x.name.first," ",x.name.last]}),Object(a.jsx)(F.a,{right:!0,children:Object(a.jsx)(L.a,{onClick:function(){h(O.willLogout(""))},children:"Logout"})})]})})})]})]})]})},D=n(223),M=n(224),q=n(30),G=n(37),W=n(43),Y=n(105),z=function e(){Object(Y.a)(this,e)};z.admin=1,z.teacher=2,z.student=3;var B=function(e){var t=e.active,n=e.role,s=Object(I.a)("frontend",{useSuspense:!1}),r=s.t;s.i18n;return console.log("Role in sidebar ->",n,z.teacher,n==z.teacher||n==z.admin),Object(a.jsx)("div",{style:{border:"0px solid #000",width:"240px",position:"absolute",backgroundColor:"#f1f1f1",bottom:0,top:56},children:Object(a.jsxs)(E.a,{vertical:!0,className:"list-unstyled pb-3",children:[(n==z.student||n==z.admin)&&Object(a.jsx)(D.a,{active:"student_dashboard"===t,className:"mb-1",children:Object(a.jsxs)(M.a,{className:"student_dashboard"===t?"text-primary":"text-secondary",style:{textDecoration:"none",fontWeight:"bolder"},tag:W.a,to:"/student_dashboard",children:[Object(a.jsx)(q.a,{icon:G.a,className:"mr-2"})," ",r("student_area")]})}),(n==z.teacher||n==z.admin)&&Object(a.jsx)(D.a,{active:"teacher_dashboard"===t,className:"mb-1",children:Object(a.jsxs)(M.a,{className:"teacher_dashboard"===t?"text-primary":"text-secondary",style:{textDecoration:"none",fontWeight:"bolder"},tag:W.a,to:"/teacher_dashboard",children:[Object(a.jsx)(q.a,{icon:G.a,className:"mr-2"})," ",r("teacher_area")]})})]})})},H=function(e){var t=e.children,n=e.className,s=e.fluid,r=void 0!==s&&s;return Object(a.jsx)("div",{className:n,style:{border:"0px solid #000",position:"absolute",backgroundColor:"white",bottom:0,top:56,left:r?0:240,right:0},children:t})},J=n(225),R=n(226),X=n(227),K=n(228),Q=(n(163),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,249)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))}),V=(n(166),n(22)),Z=n(106),$=n(113),ee=n(25),te=n(90),ne=n(15),ae=n(23),se=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/newtask",e.prev=1,e.next=4,fetch("/newtask",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({content:t})});case 4:return n=e.sent,console.log("SAGA2 API WENET newtask response:",n),e.next=8,n.text();case 8:return a=e.sent,console.log("SAGA2 API WENET newtask result:",a),e.abrupt("return",a);case 13:return e.prev=13,e.t0=e.catch(1),console.log("WENET API newtask response error:",e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/newtransaction",e.prev=1,e.next=4,fetch("/newtransaction",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({content:t})});case 4:return n=e.sent,console.log("SAGA2 (API) WENET newtransaction response:",n),e.next=8,n.text();case 8:return a=e.sent,console.log("SAGA2 (API) WENET newtransaction result:",a),e.abrupt("return",a);case 13:return e.prev=13,e.t0=e.catch(1),console.log("WENET newtransaction response error:",e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/logout",e.prev=1,e.next=4,fetch("/logout",{headers:{"Content-Type":"application/json"},method:"GET"});case 4:return t=e.sent,console.log("SAGA2 (API) logout response:",t),e.next=8,t.text();case 8:return n=e.sent,console.log("SAGA2 (API) logout result:",n),e.abrupt("return",n);case 13:return e.prev=13,e.t0=e.catch(1),console.log("WENET logout response error:",e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),oe=l.a.mark(fe),ie=l.a.mark(pe),le=l.a.mark(he),de=l.a.mark(xe),ue=l.a.mark(Oe),be=l.a.mark(ge),je=l.a.mark(me);function fe(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.d)(O.willGetUserProfile.type,he);case 2:return e.next=4,Object(ne.d)(O.willLogout.type,pe);case 4:return e.next=6,Object(ne.d)(O.willLoadTasks.type,ge);case 6:return e.next=8,Object(ne.d)(O.willLoadStudentsProfile.type,me);case 8:return e.next=10,Object(ne.d)(O.willCreateTask.type,xe);case 10:return e.next=12,Object(ne.d)(O.willCreateTransaction.type,Oe);case 12:case"end":return e.stop()}}),oe)}function pe(e){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.c)(O.didLogout());case 2:return e.next=4,Object(ne.b)(ce);case 4:return t=e.sent,console.log("Logout result:",t),e.next=8,Object(ne.c)(Object(ae.d)("/"));case 8:case"end":return e.stop()}}),ie)}function he(e){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/userprofile",e.prev=1,e.next=4,Object(ne.b)((function(){return fetch("/userprofile").then((function(e){return e.json()})).then((function(e){return e}))}));case 4:return t=e.sent,n=null==t?null:t,e.next=8,Object(ne.c)(O.didGetUserProfile(n));case 8:if(null!=n){e.next=11;break}return e.next=11,Object(ne.c)(Object(ae.d)("/logout"));case 11:e.next=19;break;case 13:return e.prev=13,e.t0=e.catch(1),e.next=17,Object(ne.c)(O.didGetUserProfile(null));case 17:return e.next=19,Object(ne.c)(Object(ae.d)("/"));case 19:case"end":return e.stop()}}),le,null,[[1,13]])}function xe(e){var t,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(ne.c)(O.setIsSendingMessage(!0));case 3:return a.next=5,Object(ne.b)(se,t);case 5:if(null==(n=a.sent)){a.next=14;break}return console.log("SAGA2 willCreateTask result OK. Loading tasks...|",n),a.next=10,Object(ne.c)(O.setIsSendingMessage(!1));case 10:return a.next=12,Object(ne.c)(O.willLoadTasks());case 12:a.next=17;break;case 14:return console.log("SAGA2 willCreateNewTask error"),a.next=17,Object(ne.c)(O.setIsSendingMessage(!1));case 17:case"end":return a.stop()}}),de)}function Oe(e){var t,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(ne.c)(O.setIsSendingMessage(!0));case 3:return a.next=5,Object(ne.b)(re,t);case 5:if(null==(n=a.sent)){a.next=14;break}return console.log("SAGA2 willCreateTransaction result OK. Loading tasks...|",n),a.next=10,Object(ne.c)(O.setIsSendingMessage(!1));case 10:return a.next=12,Object(ne.c)(O.willLoadTasks());case 12:a.next=17;break;case 14:return console.log("SAGA2 willCreateTransaction error"),a.next=17,Object(ne.c)(O.setIsSendingMessage(!1));case 17:case"end":return a.stop()}}),ue)}function ge(e){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("SAGA2 called willLoadTasks NEW!"),"/tasks",e.prev=2,e.next=5,Object(ne.b)((function(){return fetch("/tasks").then((function(e){return e.json()})).then((function(e){return e}))}));case 5:return t=e.sent,(n=null==t?[]:t.tasks).sort((function(e,t){return t._creationTs-e._creationTs})),e.next=10,Object(ne.c)(O.didLoadTasks(n));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(2),e.next=16,Object(ne.c)(O.didLoadTasks([]));case 16:case"end":return e.stop()}}),be,null,[[2,12]])}function me(e){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/students",e.prev=1,e.next=4,Object(ne.b)((function(){return fetch("/students").then((function(e){return e.json()})).then((function(e){return e}))}));case 4:return t=e.sent,n=null==t?[]:t,e.next=8,Object(ne.c)(O.didLoadStudentsProfile(n));case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Object(ne.c)(O.didLoadStudentsProfile([]));case 14:case"end":return e.stop()}}),je,null,[[1,10]])}var Te=l.a.mark(ke);function ke(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in root saga"),e.next=3,Object(ne.a)([fe()]);case 3:case"end":return e.stop()}}),Te)}var ve=ke,ye=n(44),we=Object(ee.a)(),Ie=function(e){var t,n=Object($.a)(),a=[Object(te.a)(we),n],s=[V.applyMiddleware.apply(void 0,a)],r=Z.composeWithDevTools.apply(void 0,s),c=(t=we,Object(V.combineReducers)({router:Object(ye.b)(t),userTasks:g})),o=Object(V.createStore)(c,e,r);return n.run(ve),o},_e=n(18),Ce=n(52),Se=n(114),Ae=n(102),Ee=n(229),Ue=function(e){e.name;var t=e.disabled,n=e.children,s=Object(Se.a)(e,["name","disabled","children"]),r=Object(b.e)(y);return Object(a.jsx)(a.Fragment,{children:r?Object(a.jsxs)(Ae.a,Object(Ce.a)(Object(Ce.a)({disabled:!0},s),{},{children:[n,"  ",Object(a.jsx)(Ee.a,{size:"sm",color:"light"})]})):Object(a.jsx)(Ae.a,Object(Ce.a)(Object(Ce.a)({disabled:t},s),{},{children:n}))})},Ne=function(e){var t=Object(I.a)("frontend",{useSuspense:!1}),n=t.t;t.i18n;return Object(a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:Object(a.jsxs)(J.a,{className:"mb-4",style:{borderColor:"#007bff"},children:[Object(a.jsx)(R.a,{style:{backgroundColor:"#007bff",borderColor:"#007bff",paddingBottom:0,color:"white"},children:Object(a.jsx)(X.a,{style:{textAlign:"center"},children:n("platform_title")})}),Object(a.jsx)(K.a,{children:Object(a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(a.jsx)(Ee.a,{style:{margin:"20px"},color:"primary"})})})]})})},Fe=n(230),Le=n(231),Pe=n(232),De=n(233),Me=n(234),qe=n(235),Ge=n(236),We=n(47),Ye={cannotAnswer:"reason",needClarification:"note",notSure:"note",myAnswer:"answer",goToAttachment:"attachment",goToTimelinePosition:"timelineLink",goToTag:"tag",rightAnswer:"message",freeAnnotation:"message"},ze=["myAnswer","needClarification","cannotAnswer"],Be=["freeAnnotation","goToAttachment","goToTimelinePosition","goToTag","rightAnswer"],He=[{id:"62a9ff27925841535833b6a1",_creationTs:1655308072,_lastUpdateTs:1656426153,taskTypeId:"62a87b53925841535833b69d",requesterId:"671",appId:"xUi1mwCJ0X",goal:{name:"Primo Task rivolto allo studente Pantera assonnata",description:"Descrizione del primo Task rivolto allo studente Pantera assonnata",keywords:["social interaction","lab"]},norms:[],attributes:{},closeTs:null,communityId:"624703620e5af47df0eed5eb",transactions:[{taskId:"62a9ff27925841535833b6a1",label:"needClarification",attributes:{note:"Avrei bisogno di aiuto perch\xe8 non ho capito la domanda"},actioneerId:"928",messages:[],id:"0",_creationTs:1655835879,_lastUpdateTs:1655835879},{taskId:"62a9ff27925841535833b6a1",label:"notSure",attributes:{note:"Non saprei rispondere"},actioneerId:"928",messages:[],id:"1",_creationTs:1655884187,_lastUpdateTs:1655884187},{taskId:"62a9ff27925841535833b6a1",label:"myAnswer",attributes:{answer:"Proprio non lo so"},actioneerId:"928",messages:[],id:"2",_creationTs:1655993192,_lastUpdateTs:1655993192},{taskId:"62a9ff27925841535833b6a1",label:"goToTag",attributes:{tag:"TAG_HELP"},actioneerId:"671",messages:[],id:"3",_creationTs:1656326636,_lastUpdateTs:1656326636},{taskId:"62a9ff27925841535833b6a1",label:"goToTag",attributes:{tag:"TAG_ESOMA",transactionID:"0"},actioneerId:"671",messages:[],id:"4",_creationTs:1656328149,_lastUpdateTs:1656328149},{taskId:"62a9ff27925841535833b6a1",label:"notSure",attributes:{note:"Non so cosa rispondere"},actioneerId:"1020",messages:[],id:"5",_creationTs:1656407889,_lastUpdateTs:1656407889},{taskId:"62a9ff27925841535833b6a1",label:"notSure",attributes:{note:"Non so cosa rispondere"},actioneerId:"1020",messages:[],id:"6",_creationTs:1656407905,_lastUpdateTs:1656407905},{taskId:"62a9ff27925841535833b6a1",label:"goToAttachment",attributes:{attachment:"il_dna.pdf",transactionID:"5"},actioneerId:"671",messages:[],id:"7",_creationTs:1656408841,_lastUpdateTs:1656408841},{taskId:"62a9ff27925841535833b6a1",label:"needClarification",attributes:{note:"Ho bisogno di ulteriori chiarimenti!"},actioneerId:"1020",messages:[],id:"8",_creationTs:1656413631,_lastUpdateTs:1656413631},{taskId:"62a9ff27925841535833b6a1",label:"notSure",attributes:{note:"Non ho ancora ricevuto alcun feedback!"},actioneerId:"1020",messages:[],id:"9",_creationTs:1656414157,_lastUpdateTs:1656414157},{taskId:"62a9ff27925841535833b6a1",label:"needClarification",attributes:{note:"Ribasisco che ho bisogno di chiarimenti!"},actioneerId:"1020",messages:[],id:"10",_creationTs:1656414274,_lastUpdateTs:1656414274},{taskId:"62a9ff27925841535833b6a1",label:"notSure",attributes:{note:"Non mi sento sicuro della risposta"},actioneerId:"1020",messages:[],id:"11",_creationTs:1656414477,_lastUpdateTs:1656414477},{taskId:"62a9ff27925841535833b6a1",label:"cannotAnswer",attributes:{reason:"NON SONO in grado di rispondere!"},actioneerId:"1020",messages:[],id:"12",_creationTs:1656415030,_lastUpdateTs:1656415030},{taskId:"62a9ff27925841535833b6a1",label:"goToTimelinePosition",attributes:{timelineLink:"https://beta.riale.ideab3.it/public/accbe99d-97a8-4f3b-8cf9-8b1f35ef5b87?start_time=1636327040000&active_tab=0",transactionID:"8"},actioneerId:"671",messages:[],id:"13",_creationTs:1656426153,_lastUpdateTs:1656426153}]},{id:"62aa04a3925841535833b6a2",_creationTs:1655309475,_lastUpdateTs:1656409400,taskTypeId:"62a87b53925841535833b69d",requesterId:"671",appId:"xUi1mwCJ0X",goal:{name:"Secondo Task da Lupo Solitario a Pantera assonnata",description:"Descrizione del Secondo Task da Lupo Solitario a Pantera assonnata",keywords:["social interaction","lab"]},norms:[],attributes:{},closeTs:null,communityId:"624703620e5af47df0eed5eb",transactions:[{taskId:"62aa04a3925841535833b6a2",label:"CREATE_TASK",attributes:{},actioneerId:"928",messages:[],id:"0",_creationTs:1655835291,_lastUpdateTs:1655835291},{taskId:"62aa04a3925841535833b6a2",label:"notSure",attributes:{note:"Non sono sicuro..."},actioneerId:"1020",messages:[],id:"1",_creationTs:1656409400,_lastUpdateTs:1656409400}]},{id:"62b9cc67925841535833b6b8",_creationTs:1656343656,_lastUpdateTs:1656407942,taskTypeId:"62a87b53925841535833b69d",requesterId:"671",appId:"xUi1mwCJ0X",goal:{name:"Terzo Task per Pantera assonnata",description:"Che cosa \xe8 la tagmantazione?",keywords:["social interaction","lab"]},norms:[],attributes:{},closeTs:null,communityId:"624703620e5af47df0eed5eb",transactions:[{taskId:"62b9cc67925841535833b6b8",label:"needClarification",attributes:{note:'Non capisco il termine "tagmantazione"'},actioneerId:"928",messages:[],id:"0",_creationTs:1656344477,_lastUpdateTs:1656344477},{taskId:"62b9cc67925841535833b6b8",label:"goToAttachment",attributes:{attachment:'Scusa per il refuso, intendevo dire "Tagmentazione"',transactionID:"0"},actioneerId:"671",messages:[],id:"1",_creationTs:1656344583,_lastUpdateTs:1656344583},{taskId:"62b9cc67925841535833b6b8",label:"myAnswer",attributes:{answer:"E' una tecnica impiegata nel processo di sequenziamento del DNA"},actioneerId:"928",messages:[],id:"2",_creationTs:1656344745,_lastUpdateTs:1656344745},{taskId:"62b9cc67925841535833b6b8",label:"needClarification",attributes:{note:"Ciao, sono scoiattolo ardito e non penso di avere la risposta...posso avere dell'aiuto?"},actioneerId:"1020",messages:[],id:"3",_creationTs:1656401711,_lastUpdateTs:1656401711},{taskId:"62b9cc67925841535833b6b8",label:"goToTag",attributes:{tag:"TAGMENTAZIONE",transactionID:"3"},actioneerId:"671",messages:[],id:"4",_creationTs:1656402034,_lastUpdateTs:1656402034},{taskId:"62b9cc67925841535833b6b8",label:"rightAnswer",attributes:{message:"Bravo, la risposta \xe8 corretta!",transactionID:"2"},actioneerId:"671",messages:[],id:"5",_creationTs:1656403752,_lastUpdateTs:1656403752},{taskId:"62b9cc67925841535833b6b8",label:"myAnswer",attributes:{answer:"adesso penso di saperlo"},actioneerId:"1020",messages:[],id:"6",_creationTs:1656407942,_lastUpdateTs:1656407942}]},{id:"62b9cee4925841535833b6b9",_creationTs:1656344293,_lastUpdateTs:1656344293,taskTypeId:"62a87b53925841535833b69d",requesterId:"671",appId:"xUi1mwCJ0X",goal:{name:"Quarto task per i miei studenti",description:"Che cosa si intende per sequenziamento del DNA?",keywords:["social interaction","lab"]},norms:[],attributes:{},closeTs:null,communityId:"624703620e5af47df0eed5eb",transactions:[]},{id:"62b9cf34925841535833b6ba",_creationTs:1656344373,_lastUpdateTs:1656344373,taskTypeId:"62a87b53925841535833b69d",requesterId:"671",appId:"xUi1mwCJ0X",goal:{name:"Quinto task",description:"Che cosa \xe8 la drosophila?",keywords:["social interaction","lab"]},norms:[],attributes:{},closeTs:null,communityId:"624703620e5af47df0eed5eb",transactions:[]},{id:"62bac539925841535833b6bb",_creationTs:1656407353,_lastUpdateTs:1656407353,taskTypeId:"62a87b53925841535833b69d",requesterId:"671",appId:"xUi1mwCJ0X",goal:{name:"Nuovo task rivolto ai miei 2 studenti",description:"Che cosa \xe8 il DNA?",keywords:["social interaction","lab"]},norms:[],attributes:{},closeTs:null,communityId:"624703620e5af47df0eed5eb",transactions:[]},{id:"62bae5bc925841535833b6bc",_creationTs:1656415677,_lastUpdateTs:1656415677,taskTypeId:"62a87b53925841535833b69d",requesterId:"671",appId:"xUi1mwCJ0X",goal:{name:"Domanda per Scoliattolo Ardito e Pantera Assonnata",description:"Come si risolvono le equazioni di secondo grado?",keywords:["social interaction","lab"]},norms:[],attributes:{},closeTs:null,communityId:"624703620e5af47df0eed5eb",transactions:[]},{id:"62bae7a9925841535833b6bd",_creationTs:1656416169,_lastUpdateTs:1656416303,taskTypeId:"62a87b53925841535833b69d",requesterId:"671",appId:"xUi1mwCJ0X",goal:{name:"Nuova domanda per SA e PA",description:"Che cosa sono le molecole?",keywords:["social interaction","lab"]},norms:[],attributes:{},closeTs:null,communityId:"624703620e5af47df0eed5eb",transactions:[{taskId:"62bae7a9925841535833b6bd",label:"notSure",attributes:{note:"Non saprei"},actioneerId:"1020",messages:[],id:"0",_creationTs:1656416303,_lastUpdateTs:1656416303}]},{id:"62bb106e925841535833b6be",_creationTs:1656426606,_lastUpdateTs:1656426606,taskTypeId:"62a87b53925841535833b69d",requesterId:"671",appId:"xUi1mwCJ0X",goal:{name:"Nuovo task di test",description:"Il numero 1 \xe8 primo?",keywords:["social interaction","lab"]},norms:[],attributes:{},closeTs:null,communityId:"624703620e5af47df0eed5eb",transactions:[]}],Je=function(e){var t=e.transaction;console.log("Transaction: (props) ",t);var n=Object(I.a)("frontend",{useSuspense:!1}),r=n.t,c=(n.i18n,Object(s.useState)(null==t?-1:ze.indexOf(t.label))),o=Object(u.a)(c,2),i=o[0],l=o[1],d=Object(s.useState)(null==t?"":t.attributes[Ye[t.label]]),b=Object(u.a)(d,2),j=b[0],p=b[1],h=function(t,n,s){return Object(a.jsxs)(Fe.a,{check:!0,disabled:e.readonly,children:[Object(a.jsx)(Le.a,{disabled:e.readonly,name:t,value:s,onChange:function(t){return function(t){console.log("selected choice:",t.target.value),l(t.target.value),e.onUpdate&&t.target.value>=0&&e.onUpdate(ze[t.target.value],j)}(t)},checked:i==s,type:"radio"})," ",Object(a.jsx)(Pe.a,{check:!0,children:n})]},s)},x=e.readonly?"_done":"",O="selectAnswer".concat(x);return Object(a.jsxs)(a.Fragment,{children:[e.transaction&&Object(a.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(a.jsx)(Pe.a,{children:Object(a.jsx)("b",{children:f()(1e3*e.transaction._creationTs).format("DD/MM/YYYY - HH:mm")})})}),Object(a.jsxs)(De.a,{style:e.readonly?{border:"1px solid #00FF11",padding:"10px",margin:"10px"}:{border:"1px solid #FF0000",padding:"10px",margin:"10px"},children:[Object(a.jsx)(Pe.a,{children:Object(a.jsx)("b",{children:r(O)})}),ze.map((function(e,t){return h("studentChoice",r(e),t)})),function(){var t=e.readonly?"_done":"",n="".concat(ze[i]).concat(t);return i>=0&&Object(a.jsx)(Fe.a,{children:Object(a.jsxs)("div",{style:{marginTop:"20px"},children:[Object(a.jsx)(Pe.a,{for:"studentAnswerText",children:Object(a.jsx)("b",{children:r("comment_on_".concat(n))})}),Object(a.jsx)(Le.a,{disabled:e.readonly,id:"studentAnswerText",name:"text",type:"textarea",onChange:function(t){return function(t){console.log("current text:",t.target.value),p(t.target.value),e.onUpdate&&i>=0&&e.onUpdate(ze[i],t.target.value)}(t)},value:j})]})})}(),function(){var t=function(){var t=e.teacherFeedback;return e.transaction,null==t?null:(console.log("TF FeedbackTransaction ID:",t),r("student_comment_on_".concat(t.label))+" "+t.attributes[Ye[t.label]])}();return t&&Object(a.jsx)(Fe.a,{children:Object(a.jsxs)("div",{style:{marginTop:"20px"},children:[Object(a.jsx)(Pe.a,{for:"teacherAnswerText",children:Object(a.jsx)("b",{children:r("teacherFeedback")})}),Object(a.jsx)(Le.a,{disabled:e.readonly,id:"teacherAnswerText",name:"text",type:"textarea",value:t})]})})}()]})]})},Re=function(e){var t=Object(s.useState)(!1),n=Object(u.a)(t,2),r=n[0],c=n[1],o=function(){return c(!r)},i=Object(I.a)("frontend",{useSuspense:!1}),l=i.t,d=(i.i18n,Object(b.d)()),j=Object(s.useState)(null),p=Object(u.a)(j,2),h=p[0],x=p[1],g=Object(b.e)(k),m=Object(s.useState)({}),T=Object(u.a)(m,2),v=T[0],y=T[1],w=Object(s.useState)(!1),_=Object(u.a)(w,2),C=_[0],S=_[1],E=Object(s.useState)([]),U=Object(u.a)(E,2),N=U[0],F=U[1],L=Object(s.useState)(!1),P=Object(u.a)(L,2),D=P[0],M=P[1];Object(s.useEffect)((function(){var t=e.task;console.log("Student task:",t);for(var n={},a=!1,s=0;s<t.transactions.length;s++){var r=t.transactions[s].attributes.transactionID;null!=r&&null!=g&&g.id==t.transactions[r].actioneerId&&(n[r]=t.transactions[s],"rightAnswer"==n[r].label&&(a=!0))}var c=G(),o=!0,i=Object.keys(n);console.log("SC: FilteredTransactionLen: task:".concat(t.id),c.length);for(var l=0;l<c.length;l++)if(!i.includes(c[l].id)){o=!1;break}S(o),F(c),y(n),M(a),console.log("SC: setFeedbackTeacherTransactions to->: ",n),console.log("SC: NewTransactionFormVisible",o)}),[e.task]);var q=function(){return null!=h&&null!=h.label},G=function(){if(console.log("SC Transaction: (Task ".concat(e.task.id,"):"),e.task.transactions),null==e.task.transactions)return[];var t=e.task.transactions.filter((function(e){return ze.includes(e.label)&&null!=g&&g.id==e.actioneerId}));return t.sort((function(e,t){return e._creationTs-t._creationTs})),t},W=function(){e.task.goal.name;var t=e.task.goal.description,n=Object.keys(v).length;return Object(a.jsxs)(a.Fragment,{children:[n>0&&Object(a.jsxs)("div",{style:{padding:"10px",margin:"10px",backgroundColor:"#EEEEEE"},children:[l("question_reproposal"),": ",t]}),Object(a.jsx)(Je,{onUpdate:function(e,t){return x({label:e,message:t})}})]})};return function(){var t=e.task.goal.name,n=e.task.goal.description,s=f()(1e3*e.task._creationTs).format("DD/MM/YYYY - HH:mm");return Object(a.jsxs)(J.a,{className:"mb-4",style:{padding:"10px",borderColor:"#007bff"},children:[Object(a.jsx)(R.a,{onClick:function(){o()},style:{cursor:"pointer",backgroundColor:"#007bff",borderColor:"#007bff",paddingBottom:0,color:"white"},children:Object(a.jsx)(X.a,{children:Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignContent:"space-between"},children:[C&&!D&&Object(a.jsx)(Me.a,{style:{margin:"5px",padding:"5px",color:"white",backgroundColor:N.length>0?"#FF0000":"orange"},children:l(N.length>0?"teacherFeedback":"new_question")}),D&&Object(a.jsx)(Me.a,{style:{margin:"5px",padding:"5px",color:"white",backgroundColor:"#00AA00"},children:l("rightAnswer")}),"(",s,") ",t,r?Object(a.jsx)(We.b,{size:"1.6em",cursor:"pointer",color:"white",onClick:function(){o()}}):Object(a.jsx)(We.a,{size:"1.6em",cursor:"pointer",color:"white",onClick:function(){o()}})]})})}),Object(a.jsxs)(A.a,{isOpen:r,children:[n&&Object(a.jsx)(qe.a,{style:{padding:"10px",margin:"10px",backgroundColor:"#EEEEEE"},children:n}),Object(a.jsx)(K.a,{children:Object(a.jsxs)(De.a,{children:[(console.log("Transaction: (filtered):",N),N.map((function(e){return Object(a.jsx)(Je,{readonly:!0,transaction:e,teacherFeedback:v[e.id]})}))),C&&!D&&W()]})}),Object(a.jsx)(Ge.a,{children:C&&q()&&Object(a.jsx)("div",{style:{display:"flex",marginTop:"10px",justifyContent:"flex-end"},children:Object(a.jsx)(Ue,{color:"primary",onClick:function(t){!function(){if(q()){var t={taskId:e.task.id,content:{label:h.label,message:h.message}};console.log("SAGA2 request da StudentComponents di willCreateTransaction"),d(O.willCreateTransaction(t))}}()},children:l("send")})})})]})]})}()},Xe=n(0),Ke=n(242),Qe=n(60),Ve=n(62),Ze=n(107),$e=n(237),et=n(248),tt=function(e){var t=e.tasks,n=r.a.useState(""),s=Object(u.a)(n,2),c=s[0],o=s[1],i=r.a.useState(null),l=Object(u.a)(i,2),d=l[0],j=l[1],f=Object(b.d)(),p=Object(I.a)("frontend",{useSuspense:!1}),x=p.t;p.i18n;r.a.useEffect((function(){console.log("in constructor");return j(new Ze.a({fields:["goal.name","goal.description"],searchOptions:{combineWith:"AND"},extractField:function(e,t){if(Array.isArray(e[t]))return e[t].map((function(e,t){return"object"==typeof e?Object.values(e).join(" "):e}));var n=t.split(".").reduce((function(e,t){return e&&e[t]}),e);return console.log("SB:Trovato campo per field name:>>",t,n),n},storeFields:["id","goal.name","goal.description"]})),function(){}}),[]),r.a.useEffect((function(){if(console.log("with tasks: ",Object.values(t)),null!=d){d.addAll(Object.values(t));var e=d.search("onde");console.log("with results: ",e)}return function(){}}),[t,d]);return Object(a.jsx)("div",{style:{width:"100%",border:"0px solid #000",height:50,marginBottom:20},children:Object(a.jsxs)($e.a,{children:[Object(a.jsx)(Le.a,{value:c,onChange:function(e){console.log("in on change with ",e.target.value);var t=e.target.value;if(o(t),""!==t){console.log("in onSUggestionFethRequest",t);var n=d.search(t,{prefix:!0});console.log("with search result: ",t,n);var a=Object(h.filter)(n,(function(e){return console.log("check score: ",e,e.score>0),e.score>0}));console.log("MINISEARCH result: ",n),console.log("scored result: ",a),f(O.setFilteredIds(n))}else f(O.clearFilter(null))},placeholder:x("search_tasks")}),Object(a.jsx)(et.a,{addonType:"append",children:""==c?Object(a.jsx)(Ae.a,{style:{width:50},color:"primary",children:Object(a.jsx)(q.a,{icon:G.c,style:{fontSize:20},color:"white"})}):Object(a.jsx)(Ae.a,{style:{width:50},onClick:function(){f(O.clearFilter(null)),o("")},color:"primary",children:Object(a.jsx)(q.a,{icon:G.d,style:{fontSize:20},color:"white"})})})]})})},nt=function(e){var t=Object(b.e)(k),n=Object(b.e)(T),r=Object(s.useState)(n),c=Object(u.a)(r,2),o=c[0],i=c[1],l=Object(b.e)(m),d=Object(b.d)(),j=Object(I.a)("frontend",{useSuspense:!1}),f=j.t;j.i18n;Object(s.useEffect)((function(){d(O.willLoadTasks());var e=setInterval((function(){console.log("WillLoad task for student every ".concat(10," seconds")),d(O.willLoadTasks())}),1e4);return function(){return clearInterval(e)}}),[]),Object(s.useEffect)((function(){i(null==l?n:n.filter((function(e){return l.includes(e.id)})))}),[n,l]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(P,{className:"mb-0 text-white",section:"student_area",showMenu:!0}),Object(a.jsx)(B,{active:"student_dashboard",role:null!=t?t.role_id:null}),Object(a.jsxs)(H,{children:[Object(a.jsxs)(_.a,{style:{marginTop:"10px",marginBottom:"10px"},className:"mb-0 text-white",color:"primary",light:!0,expand:"md",children:[Object(a.jsx)(C.a,{className:"text-white font-weight-bold",children:f("answers_and_questions")}),Object(a.jsx)(E.a,{className:"mr-auto",navbar:!0}),Object(a.jsx)(E.a,{navbar:!0,children:Object(a.jsx)(Ke.a,{onClick:function(){d(O.willLoadTasks())},style:{height:34,marginRight:12,marginTop:6,marginBottom:6,borderWidth:1,borderColor:"white",borderStyle:"solid",borderRadius:4},children:Object(a.jsx)(Xe.b.Provider,{value:{color:"white",className:"global-class-name"},children:Object(a.jsx)(Qe.a,{color:"white","data-place":"top","data-for":"studentdashboard","data-tip":f("refresh")})})})}),Object(a.jsx)(Ve.a,{id:"studentdashboard"})]}),Object(a.jsx)("div",{style:{margin:"10px"},children:Object(a.jsx)(tt,{tasks:n})}),n&&o&&o.map((function(e,t){return Object(a.jsx)(Re,{task:e},t)}))]})]})},at=n(243),st=n(238),rt=n(239),ct=function(e){var t=e.transaction,n=Object(I.a)("frontend",{useSuspense:!1}),r=n.t,c=(n.i18n,Object(s.useState)(null==t?-1:Be.indexOf(t.label))),o=Object(u.a)(c,2),i=o[0],l=o[1],d=Object(s.useState)(""),j=Object(u.a)(d,2),f=j[0],p=j[1],h=Object(b.d)(),x=function(t,n,s){return Object(a.jsxs)(Fe.a,{check:!0,disabled:e.readonly,children:[Object(a.jsx)(Le.a,{disabled:e.readonly,name:t,value:s,onChange:function(e){return g(e)},checked:i==s,type:"radio"})," ",Object(a.jsx)(Pe.a,{check:!0,children:n})]},s)},g=function(t){console.log("selected feedback choice:",t.target.value),l(t.target.value),e.onUpdate&&i>=0&&e.onUpdate(Be[t.target.value],f)},m=function(t){console.log("current text:",t.target.value),p(t.target.value),e.onUpdate&&i>=0&&e.onUpdate(Be[i],t.target.value)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:{marginTop:"20px"},children:Object(a.jsx)(Pe.a,{children:Object(a.jsx)("b",{children:r("send_feedback_to_student")})})}),Be.map((function(e,t){return x("teacherChoice",r(e),t)})),i>=0&&Object(a.jsxs)(Fe.a,{children:[Object(a.jsxs)("div",{style:{marginTop:"20px"},children:[Object(a.jsx)(Pe.a,{for:"teacherAnswerText",children:Object(a.jsx)("b",{children:r("teacher_comment_on_".concat(Be[i]))})}),Object(a.jsx)(Le.a,{disabled:!1,id:"teacherAnswerText",name:"text",type:"textarea",onChange:function(e){m(e)},value:f})]}),Object(a.jsx)("div",{style:{display:"flex",marginTop:"10px",justifyContent:"flex-end"},children:Object(a.jsx)(Ue,{onClick:function(){return function(){if(!(i<0)){var t={taskId:e.transaction.taskId,content:{label:Be[i],message:f,transactionID:e.transaction.id}};console.log("Feedback payload:",t),h(O.willCreateTransaction(t))}}()},color:"primary",children:r("send")})})]})]})},ot=function(e){var t=e.transaction;console.log("Transaction: (props) ",t);var n=Object(b.e)(w(t&&t.actioneerId)),r=Object(I.a)("frontend",{useSuspense:!1}),c=r.t,o=(r.i18n,Object(s.useState)(null==t?-1:ze.indexOf(t.label))),i=Object(u.a)(o,2),l=i[0],d=i[1],j=Object(s.useState)(null==t?"":t.attributes[Ye[t.label]]),p=Object(u.a)(j,2),h=p[0],x=(p[1],function(t,n,s){return Object(a.jsxs)(Fe.a,{check:!0,disabled:e.readonly,children:[Object(a.jsx)(Le.a,{disabled:e.readonly,name:t,value:s,onChange:function(t){return function(t){console.log("selected choice:",t.target.value),d(t.target.value),e.onUpdate&&l>=0&&e.onUpdate(ze[l],h)}(t)},checked:l==s,type:"radio"})," ",Object(a.jsx)(Pe.a,{check:!0,children:n})]},s)}),O=function(){var t=e.teacherFeedback;e.transaction;return null==t?null:(console.log("TF FeedbackTransaction ID:",t),c("".concat(t.label))+" "+t.attributes[Ye[t.label]])};return Object(a.jsxs)(a.Fragment,{children:[e.transaction&&Object(a.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:n?Object(a.jsx)(Pe.a,{style:null==e.teacherFeedback?{color:"#FF0000"}:{color:"#000000"},children:Object(a.jsxs)("b",{children:[n.name," "," "," ",n.surname," - "," ",f()(1e3*e.transaction._creationTs).format("DD/MM/YYYY - HH:mm")]})}):Object(a.jsx)(Pe.a,{children:Object(a.jsx)("b",{children:f()(1e3*e.transaction._creationTs).format("DD/MM/YYYY - HH:mm")})})}),Object(a.jsxs)(De.a,{style:{border:"1px solid #007bff",padding:"10px",margin:"10px"},children:[Object(a.jsx)(Pe.a,{children:Object(a.jsx)("b",{children:c("teacher_selectAnswer")})}),ze.map((function(e,t){return x("studentChoice",c(e),t)})),l>=0&&Object(a.jsx)(Fe.a,{children:Object(a.jsxs)("div",{style:{marginTop:"20px"},children:[Object(a.jsx)(Pe.a,{for:"studentAnswerText",children:Object(a.jsx)("b",{children:c("teacher_comment_on_".concat(ze[l]))})}),Object(a.jsx)(Le.a,{disabled:!0,id:"studentAnswerText",name:"text",type:"textarea",onChange:function(e){},value:h})]})}),null!=e.teacherFeedback?Object(a.jsx)(Fe.a,{children:Object(a.jsxs)("div",{style:{marginTop:"20px"},children:[Object(a.jsx)(Pe.a,{for:"teacherAnswerText",children:Object(a.jsx)("b",{children:c("teacherFeedback")})}),Object(a.jsx)(Le.a,{disabled:e.readonly,id:"teacherAnswerText",name:"text",type:"textarea",value:O()})]})}):Object(a.jsx)(ct,{transaction:e.transaction})]})]})},it=function(e){var t=Object(I.a)("frontend",{useSuspense:!1}),n=t.t,r=(t.i18n,Object(s.useState)("")),c=Object(u.a)(r,2),o=c[0],i=c[1],l=Object(s.useState)(""),d=Object(u.a)(l,2),j=d[0],f=d[1],p=Object(b.d)();return Object(a.jsxs)(De.a,{children:[Object(a.jsx)(Fe.a,{children:Object(a.jsxs)("div",{style:{marginTop:"20px"},children:[Object(a.jsx)(Pe.a,{for:"teacherTaskTitle",children:Object(a.jsx)("b",{children:n("question_topic")})}),Object(a.jsx)(Le.a,{required:!0,id:"teacherTaskTitle",name:"text",type:"text",onChange:function(e){return function(e){i(e.target.value)}(e)},value:o})]})}),Object(a.jsx)(Fe.a,{children:Object(a.jsxs)("div",{style:{marginTop:"20px"},children:[Object(a.jsx)(Pe.a,{for:"teacherTaskDescription",children:Object(a.jsx)("b",{children:n("question_content")})}),Object(a.jsx)(Le.a,{required:!0,id:"teacherTaskDescription",name:"text",type:"textarea",onChange:function(e){return function(e){f(e.target.value)}(e)},value:j})]})}),Object(a.jsx)(Fe.a,{children:Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(a.jsx)(Ae.a,{onClick:function(t){e.onClose()},children:"Annulla"}),Object(a.jsx)(Ae.a,{disabled:""==o.trim()||""==j.trim(),color:"primary",onClick:function(t){p(O.willCreateTask({name:o,description:j})),e.onClose()},children:n("send")})]})})]})},lt=function(e){Object(b.e)(k);var t=Object(I.a)("frontend",{useSuspense:!1}),n=t.t,r=(t.i18n,Object(s.useState)(!1)),c=Object(u.a)(r,2),o=c[0],i=c[1],l=Object(b.d)(),d=Object(b.e)(T),j=Object(b.e)(m),f=Object(s.useState)(d),p=Object(u.a)(f,2),h=p[0],x=p[1];Object(s.useEffect)((function(){l(O.willLoadTasks());var e=setInterval((function(){console.log("WillLoad task for teacher every ".concat(10," seconds")),l(O.willLoadTasks())}),1e4);return function(){return clearInterval(e)}}),[]),Object(s.useEffect)((function(){x(null==j?d:d.filter((function(e){return j.includes(e.id)})))}),[d,j]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(_.a,{style:{marginTop:"10px",marginBottom:"10px"},className:"mb-0 text-white",color:"primary",light:!0,expand:"md",children:[Object(a.jsx)(C.a,{className:"text-white font-weight-bold",children:n("answers_and_questions")}),Object(a.jsx)(E.a,{className:"mr-auto",navbar:!0}),Object(a.jsxs)(E.a,{navbar:!0,children:[Object(a.jsxs)(Ae.a,{onClick:function(e){console.log("Click new Question"),i(!0)},style:{height:34,marginRight:12,marginTop:6,marginBottom:6,borderWidth:1,borderColor:"white",borderStyle:"solid",borderRadius:4},color:"primary",children:[Object(a.jsx)(q.a,{icon:G.b}),n("new_question")]}),Object(a.jsx)(Ke.a,{onClick:function(){l(O.willLoadTasks())},style:{height:34,marginRight:12,marginTop:6,marginBottom:6,borderWidth:1,borderColor:"white",borderStyle:"solid",borderRadius:4},children:Object(a.jsx)(Xe.b.Provider,{value:{color:"white",className:"global-class-name"},children:Object(a.jsx)(Qe.a,{color:"white","data-place":"top","data-for":"teacherdashboard","data-tip":n("refresh")})})})]}),Object(a.jsx)(Ve.a,{id:"teacherdashboard"})]}),Object(a.jsx)("div",{style:{margin:"10px"},children:Object(a.jsx)(tt,{tasks:d})}),o&&Object(a.jsxs)(at.a,{isOpen:o,children:[Object(a.jsx)(st.a,{children:n("new_question")}),Object(a.jsx)(rt.a,{children:Object(a.jsx)(it,{onClose:function(){return i(!1)}})})]}),h&&h.map((function(e,t){return Object(a.jsx)(dt,{task:e},t)}))]})},dt=function(e){var t=Object(s.useState)(!1),n=Object(u.a)(t,2),r=n[0],c=n[1],o=function(){return c(!r)},i=Object(I.a)("frontend",{useSuspense:!1}),l=i.t,d=(i.i18n,Object(b.e)(k),Object(s.useState)({})),j=Object(u.a)(d,2),p=j[0],h=j[1],x=Object(s.useState)([]),O=Object(u.a)(x,2),g=O[0],m=O[1],T=Object(s.useState)(0),v=Object(u.a)(T,2),y=v[0],w=v[1];Object(s.useEffect)((function(){var t=e.task;console.log("Student task:",t);for(var n={},a=0;a<t.transactions.length;a++){var s=t.transactions[a].attributes.transactionID;null!=s&&(n[s]=t.transactions[a])}var r=C();m(r),console.log("setFeedbackTeacherTransactions to->: ",n),h(n),w(_(r,n))}),[e.task]);var _=function(e,t){return null==e||e.length<1?0:e.length-Object.keys(t).length},C=function(){if(console.log("Transaction: (Task):",e.task.transactions),null==e.task.transactions)return[];var t=e.task.transactions.filter((function(e){return console.log("Transaction: (Filter):",e),ze.includes(e.label)}));return t.sort((function(e,t){return e._creationTs-t._creationTs})),t};return function(){var t=e.task.goal.name,n=e.task.goal.description,s=f()(1e3*e.task._creationTs).format("DD/MM/YYYY - HH:mm");return Object(a.jsxs)(J.a,{className:"mb-4",style:{padding:"10px",borderColor:"#007bff"},children:[Object(a.jsx)(R.a,{onClick:function(){o()},style:{cursor:"pointer",backgroundColor:"#007bff",borderColor:"#007bff",paddingBottom:0,color:"white"},children:Object(a.jsx)(X.a,{children:Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignContent:"space-between"},children:[y>0&&Object(a.jsxs)(Me.a,{style:{margin:"5px",padding:"5px",color:"white",backgroundColor:"#FF0000"},children:["".concat(y," "),l("new_messages_from_students")]}),"(",s,") ",t,r?Object(a.jsx)(We.b,{size:"1.6em",cursor:"pointer",color:"white",onClick:function(){o()}}):Object(a.jsx)(We.a,{size:"1.6em",cursor:"pointer",color:"white",onClick:function(){o()}})]})})}),Object(a.jsxs)(A.a,{isOpen:r,children:[n&&Object(a.jsx)(qe.a,{style:{padding:"10px",margin:"10px",backgroundColor:"#EEEEEE"},children:n}),Object(a.jsx)(K.a,{children:Object(a.jsx)(De.a,{children:(console.log("Transaction: (filter):",g),g.map((function(e,t){return Object(a.jsx)(ot,{readonly:!0,transaction:e,teacherFeedback:p[e.id]},t)})))})})]})]})}()},ut=n(108),bt=n.n(ut),jt=function(e){var t=Object(I.a)("frontend",{useSuspense:!1}),n=t.t,s=(t.i18n,Object(b.d)()),c=Object(b.e)(v),o=[{dataField:"name",text:n("name"),sort:!0},{dataField:"surname",text:n("surname"),sort:!0},{dataField:"passcode",text:n("passcode"),sort:!0,hidden:!1},{dataField:"id",text:n("profile"),sort:!0},{dataField:"description",text:n("description"),sort:!1}];return r.a.useEffect((function(){return s(O.willLoadStudentsProfile(null)),function(){}}),[]),Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(bt.a,{bootstrap4:!0,keyField:"passcode",data:c,columns:o})})},ft=n(240),pt=n(241),ht=function(e){var t=Object(b.e)(k),n=Object(s.useState)("0"),r=Object(u.a)(n,2),c=r[0],o=r[1],i=Object(I.a)("frontend",{useSuspense:!1}),l=i.t,d=(i.i18n,Object(b.d)());return Object(s.useEffect)((function(){d(O.willGetUserProfile())}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(P,{className:"mb-0 text-white",section:"teacher_area",showMenu:!0}),Object(a.jsx)(B,{active:"teacher_dashboard",role:null!=t?t.role_id:null}),Object(a.jsxs)(H,{children:[Object(a.jsxs)(E.a,{tabs:!0,children:[Object(a.jsx)(D.a,{children:Object(a.jsx)(M.a,{style:"0"===c?{cursor:"arrow",fontWeight:"bold",background:"#EEEEEE"}:{cursor:"pointer",fontWeight:"normal"},onClick:function(){o("0")},children:l("students_answers")})}),Object(a.jsx)(D.a,{children:Object(a.jsx)(M.a,{style:"1"===c?{cursor:"arrow",fontWeight:"bold",background:"#EEEEEE"}:{cursor:"pointer",fontWeight:"normal"},onClick:function(){o("1")},children:l("students_profile")})})]}),Object(a.jsxs)(ft.a,{activeTab:c,children:[Object(a.jsx)(pt.a,{tabId:"0",children:Object(a.jsx)(lt,{})}),Object(a.jsx)(pt.a,{tabId:"1",children:Object(a.jsx)(jt,{})})]})]})]})},xt=function(){var e=Object(I.a)("frontend",{useSuspense:!1}),t=e.t,n=(e.i18n,Object(s.useState)(null)),r=Object(u.a)(n,2),c=r[0],o=r[1];Object(s.useEffect)((function(){localStorage.setItem("passcode",c)}),[c]);var i=function(e){console.log("entered:",e.target.value),function(e){var t="abcdefghijklmnopqrstuvwxyz".toUpperCase();try{var n=e.trim().toUpperCase();if(8!=n.length)throw"Invalid";for(var a=0,s=0;s<n.length-1;s++)a+=t.indexOf(n.charAt(s));var r=(a-=t.indexOf(n.charAt(7)))%t.length==0;o(r?n:null)}catch(c){o(null)}}(e.target.value)};return Object(a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:Object(a.jsxs)(J.a,{className:"mb-4",style:{borderColor:"#007bff"},children:[Object(a.jsx)(R.a,{style:{backgroundColor:"#007bff",borderColor:"#007bff",paddingBottom:0,color:"white"},children:Object(a.jsx)(X.a,{style:{textAlign:"center"},children:t("platform_title")})}),Object(a.jsx)(K.a,{children:Object(a.jsx)(Le.a,{onChange:function(e){return i(e)},type:"text",name:"passcode",id:"passcode",placeholder:t("passcode_enter")})}),Object(a.jsx)(Ge.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:c&&Object(a.jsx)("a",{href:"/connect?passcode=".concat(c),children:t("connect_to_wenet")})})]})})},Ot=function(){var e=Object(b.e)(k),t=Object(b.d)();return Object(s.useEffect)((function(){t(O.willGetUserProfile(null))}),[]),Object(s.useEffect)((function(){console.log("UserProfile in router:",e),null!=e&&null!=e.message&&(alert(e.message),t(Object(ae.d)("/")))}),[e]),Object(a.jsx)(ye.a,{history:we,children:Object(a.jsxs)(_e.d,{children:[Object(a.jsx)(_e.b,{path:"/devTasks",children:Object(a.jsx)(lt,{tasks:He})}),Object(a.jsx)(_e.b,{path:"/student_dashboard",children:null==e?Object(a.jsx)(Ne,{}):e.role_id==z.student||e.role_id==z.admin?Object(a.jsx)(nt,{}):Object(a.jsx)(_e.a,{to:"/"})}),Object(a.jsx)(_e.b,{path:"/teacher_dashboard",children:null==e?Object(a.jsx)(Ne,{}):e.role_id==z.teacher||e.role_id==z.admin?Object(a.jsx)(ht,{}):Object(a.jsx)(_e.a,{to:"/"})}),Object(a.jsx)(_e.b,{path:"/",children:Object(a.jsx)(xt,{})})]})})};function gt(){return Object(a.jsx)(b.a,{store:Ie({}),children:Object(a.jsx)(Ot,{})})}var mt=n(78),Tt=n(51),kt=n(109);n(204);mt.a.use(kt.a).use(Tt.e).init({ns:["tl","frontend"],defaultNS:"tl",fallbackLng:"it",debug:!0,interpolation:{escapeValue:!1}});var vt=mt.a;"it-IT"!==(window.navigator.userLanguage||window.navigator.language)?vt.changeLanguage("en-US"):vt.changeLanguage("it-IT"),o.a.render(Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)(gt,{})}),document.getElementById("root")),Q()}},[[203,1,2]]]);
//# sourceMappingURL=main.ff92822e.chunk.js.map